<!DOCTYPE html>
<html lang="zh-Hant"
>
<head>
    <title>c - Farseerfc的小窩</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <meta name="theme-color" content="#6b5594">


    <meta name="author" content="farseerfc" />
    <meta name="keywords" content="c" />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Farseerfc的小窩" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Farseerfc的小窩"/>
        <meta property="og:url" content="//farseerfc.me"/>
        <meta property="og:description" content="Farseerfc的小窩"/>



    <!-- Bootstrap -->
        <link href="//farseerfc.me/theme/css/bootstrap.min.css" rel="stylesheet">

    <link href="//farseerfc.me/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="//farseerfc.me/theme/css/pygments/monokai.css" rel="stylesheet">
    <link href="//farseerfc.me/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
        <link href="//farseerfc.me/theme/css/html4css1.css" rel="stylesheet">
    <link rel="stylesheet" href="//farseerfc.me/theme/css/style.css" type="text/css"/>

        <link href="//farseerfc.me/feeds/atom.xml" type="application/atom+xml" rel="alternate"
              title="Farseerfc的小窩 ATOM Feed"/>

        <link href="//farseerfc.me/theme/css/material.min.css" rel="stylesheet">
        <link href="//farseerfc.me/theme/css/ripples.css" rel="stylesheet">

    <link rel="stylesheet" href="//farseerfc.me/theme/css/han.min.css">

</head>
<body>
<div style="display:none" id="title">c - Farseerfc的小窩</div>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
         <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">切換導航</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="//farseerfc.me/" class="navbar-brand">
Farseerfc的小窩            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">

                    <li class="dropdown hidden-lg hidden-xl">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                            <i class="mdi-action-translate"></i><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="active"><a href="//farseerfc.me/">繁體</a></li>
                            <li><a href="//farseerfc.me/zhs/">简体</a></li>
                            <li><a href="//farseerfc.me/en/">English</a></li>
                            <li><a href="//farseerfc.me/jp/">日本語</a></li>
                        </ul>
                    </li>

                    <ul class="nav navbar-nav hidden-xs hidden-md hidden-sm">
                        <li class="active"><a href="//farseerfc.me/"><i class="mdi-action-translate"></i>繁體</a></li>
                        <li><a href="//farseerfc.me/zhs/"><i class="mdi-action-translate"></i>简体</a></li>
                        <li><a href="//farseerfc.me/en/"><i class="mdi-action-translate"></i>English</a></li>
                        <li><a href="//farseerfc.me/jp/"><i class="mdi-action-translate"></i>日本語</a></li>
                    </ul>

                    <li class="dropdown hidden-md hidden-lg hidden-xl">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                            <i class="fa fa-user"></i><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                             <li class=""><a href="//farseerfc.me/about.html"><i class="fa fa-user"></i>
                                 About
                              </a></li>
                             <li class=""><a href="//farseerfc.me/links.html"><i class="fa fa-user"></i>
                                 Links
                              </a></li>
                        </ul>
                    </li>

                  <ul class="nav navbar-nav hidden-xs hidden-sm">
                     <li class=""><a href="//farseerfc.me/about.html"><i class="fa fa-user"></i>
                         About
                      </a></li>
                     <li class=""><a href="//farseerfc.me/links.html"><i class="fa fa-user"></i>
                         Links
                      </a></li>
                  </ul>
            </ul>

                <ul class="nav navbar-nav hidden-md hidden-lg hidden-xl">
                    <li class="dropdown hidden-md hidden-lg hidden-xl">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                            <i class="fa fa-folder-o"></i><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li >
                                <a href="//farseerfc.me/category/import.html"><i class="fa fa-folder-o"></i> Import</a>
                            </li>
                            <li >
                                <a href="//farseerfc.me/category/life.html"><i class="fa fa-folder-o"></i> Life</a>
                            </li>
                            <li >
                                <a href="//farseerfc.me/category/tech.html"><i class="fa fa-folder-o"></i> Tech</a>
                            </li>
                        </ul>
                    </li>
                </ul>

                    <ul class="nav navbar-nav hidden-xs hidden-sm">
                        <li >
                            <a href="//farseerfc.me/category/import.html"><i class="fa fa-folder-o"></i> Import</a>
                        </li>
                        <li >
                            <a href="//farseerfc.me/category/life.html"><i class="fa fa-folder-o"></i> Life</a>
                        </li>
                        <li >
                            <a href="//farseerfc.me/category/tech.html"><i class="fa fa-folder-o"></i> Tech</a>
                        </li>
                    </ul>



            <ul class="nav navbar-nav navbar-right hidden-sm hidden-md hidden-lg hidden-xl">
                <li class="dropdown hidden-md hidden-lg hidden-xl">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                        <i class="fa fa-search"></i><span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                      <li><span>
                        <form class="navbar-search" action="/search.html">
                          <input type="text" class="search-query form-control col-lg-16" placeholder="搜索" name="q" id="tipue_search_input" required>
                        </form></span>
                      </li>
                    </ul>
                </li>
            </ul>

            <ul class="nav navbar-right navbar-form hidden-xs">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query form-control col-lg-16" placeholder="搜索" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
            </ul>

            <ul class="nav navbar-nav navbar-right hidden-xs">
              <li><a href="//farseerfc.me/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">歸檔</span></a></li>
              <li><a href="//farseerfc.me/feeds/atom.xml" title="Atom feeds for all articles"><i class="fa fa-rss"></i></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container" style="min-height: 100%;height: auto !important;height: 100%;">
    <div class="row" style="padding-bottom:80px;padding-top:80px;">
        <div class="col-xl-21 col-lg-20 col-md-18">
            <div id="loading-block">
    <ol class="breadcrumb">
        <li><a href="//farseerfc.me/" title="Farseerfc的小窩"><i class="fa fa-home fa-lg"></i></a></li>
        <li><a href="//farseerfc.me/tags.html" title="Tags">標籤雲</a></li>
        <li class="active">c</li>
        <li><a href="//farseerfc.me/feeds/tag-c.atom.xml" title="訂閱標籤 c"><i class="fa fa-rss fa-lg"></i></a></li>
    </ol>
    <div class="articles-container">
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/from-unbuffered-stdin-to-history-of-linux-tty.html" class="btn btn-primary btn-lg"><h2>從非緩衝輸入流到 Linux 控制檯的歷史
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/from-unbuffered-stdin-to-history-of-linux-tty.html">繁體</a></li><li><a href="//farseerfc.me/zhs/from-unbuffered-stdin-to-history-of-linux-tty.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/from-unbuffered-stdin-to-history-of-linux-tty.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="from-unbuffered-stdin-to-history-of-linux-tty" data-disqus-url="http://farseerfc.me/from-unbuffered-stdin-to-history-of-linux-tty.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary">
<p>這篇也是源自於水源C板上板友的一個問題，涉及Linux上的控制檯的實現方式和歷史原因。因爲內容比較長，所以在這裏再排版一下發出來。
<a class="reference external" href="http://bbs.sjtu.edu.cn/bbstcon,board,C,reid,1418138991,file,M.1418138991.A.html">原帖在這裏</a> 。</p>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id7">可以設置不帶緩衝的標準輸入流嗎？</a></h2>
<p>WaterElement(UnChanged) 於 2014年12月09日23:29:51 星期二 問到：</p>
<blockquote>
<p>請問對於標準輸入流可以設置不帶緩衝嗎？比如以下程序</p>
<div class="highlight"><pre><span class="code-line"><span class="cp">#include &lt;stdio.h&gt;</span></span>
<span class="code-line"><span class="cp">#include &lt;unistd.h&gt;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span></span>
<span class="code-line">    <span class="kt">FILE</span> <span class="o">*</span><span class="n">fp</span> <span class="o">=</span> <span class="n">fdopen</span><span class="p">(</span><span class="n">STDIN_FILENO</span><span class="p">,</span> <span class="s">"r"</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">setvbuf</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">_IONBF</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></span>
<span class="code-line">    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span></span>
<span class="code-line">    <span class="n">buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">fgets</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">fp</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">printf</span><span class="p">(</span><span class="s">"buffer ...</span></span></pre></div></blockquote></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/discuss-cpp-template-downcast.html" class="btn btn-primary btn-lg"><h2>關於C++模板的類型轉換的討論
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/discuss-cpp-template-downcast.html">繁體</a></li><li><a href="//farseerfc.me/en/discuss-cpp-template-downcast.html" class="translate">English</a></li><li><a href="//farseerfc.me/zhs/discuss-cpp-template-downcast.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/discuss-cpp-template-downcast.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="discuss-cpp-template-downcast" data-disqus-url="http://farseerfc.me/discuss-cpp-template-downcast.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary">
<p>這兩天在飲水思源的C板，關於C++模板的類型轉換的一個討論，後面是我的解答。</p>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id4">討論地址</a></h2>
<p><a class="reference external" href="http://bbs.sjtu.edu.cn/bbstcon,board,C,reid,1330078933,file,M.1330078933.A.html">http://bbs.sjtu.edu.cn/bbstcon,board,C,reid,1330078933,file,M.1330078933.A.html</a></p>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id5">原問題</a></h2>
<p>今天在書上看到模板演繹的時候可以允許cast-down，於是我寫了個東西：</p>
<div class="highlight"><pre><span class="code-line"><span class="k">template</span> <span class="o">&lt;</span><span class="kt">bool</span> <span class="n">_Test</span><span class="p">,</span> <span class="k">class</span> <span class="nc">_Type</span> <span class="o">=</span> <span class="kt">void</span><span class="o">&gt;</span></span>
<span class="code-line"><span class="k">struct</span> <span class="n">enable_if</span> <span class="p">{</span> <span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">_Type</span><span class="o">&gt;</span></span>
<span class="code-line"><span class="k">struct</span> <span class="n">enable_if</span><span class="o">&lt;</span><span class="nb">true</span><span class="p">,</span> <span class="n">_Type</span><span class="o">&gt;</span> <span class="p">{</span></span>
<span class="code-line">    <span class="k">typedef</span> <span class="n">_Type</span> <span class="n">type</span><span class="p">;</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">class</span> <span class="nc">A</span> <span class="p">{</span> <span class="p">};</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">B</span> <span class="o">:</span> <span class="n">A</span> <span class="p">{</span> <span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span></span>
<span class="code-line"><span class="k">struct ...</span></span></pre></div></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-3-2-label-goto-and-implementation-of-switch.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 3.2 標號、goto，以及switch的實現
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-3-2-label-goto-and-implementation-of-switch.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-3-2-label-goto-and-implementation-of-switch.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-3-2-label-goto-and-implementation-of-switch.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-3-2-label-goto-and-implementation-of-switch" data-disqus-url="http://farseerfc.me/c-tricks-3-2-label-goto-and-implementation-of-switch.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="goto-switch">
<h2>3.2 標號、goto，以及switch的實現</h2>
<p>goto語句及標號(label)是最古老的C語言特性，也是最早被人們拋棄的語言特性之一。像彙編語言中的jmp指令一樣，goto語句可以跳轉到同一函數體中任何標號位置：</p>
<p>void f()</p>
<p>{int i=0;</p>
<p>Loop: //A label</p>
<p>++i;</p>
<p>if(i&lt;10)goto Loop; //Jump to the label</p>
<p>}</p>
<p>在原始而和諧的早期Fortran和Basic時代，我們沒有if then
else，沒有for和while，甚至沒有函數的概念，一切控制結構都靠goto(帶條件的或無條件的)構件。軟件工程師將這樣的代碼稱作“意大利麪條”代碼。實踐證明這樣的代碼極容易造成混亂。</p>
<p>自從證明了結構化的程序可以做意大利麪條做到的任何事情，人們就開始不遺餘力地推廣結構化設計思想，將goto像猛獸一般囚禁在牢籠 ...</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-3-1-lvalue-rvalue-constant.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 3.1 左值右值與常量性(lvalue，rvalue &amp; constant)
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-3-1-lvalue-rvalue-constant.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-3-1-lvalue-rvalue-constant.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-3-1-lvalue-rvalue-constant.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-3-1-lvalue-rvalue-constant" data-disqus-url="http://farseerfc.me/c-tricks-3-1-lvalue-rvalue-constant.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="lvalue-rvalue-constant">
<h2>3.1 左值右值與常量性(lvalue，rvalue &amp; constant)</h2>
<p>首先要搞清楚的是，什麼是左值，什麼是右值。這裏給出左值右值的定義：</p>
<p>1、左值是可以出現在等號(=)左邊的值，右值是隻能出現在等號右邊的值。</p>
<p>2、左值是可讀可寫的值，右值是隻讀的值。</p>
<p>3、左值有地址，右值沒有地址。</p>
<p>根據左值右值的第二定義，值的左右性就是值的常量性——常量是右值，非常量是左值。比如：</p>
<p>1=1;//Error</p>
<p>這個複製操作在C++中是語法錯誤，MSVC給出的錯誤提示爲“error C2106: '=' :
left operand must be
l-value”，就是說’=’的左操作數必須是一個左值，而字面常數1是一個右值。可見，嚴格的區分左值右值可以從語法分析的角度找出程序的邏輯錯誤。</p>
<p>根據第二定義，一個左值也是一個右值 ...</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-2-2-i386-memory-layout.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.2 I386平臺的內存佈局
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-2-2-i386-memory-layout.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-2-2-i386-memory-layout.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-2-2-i386-memory-layout.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-2-i386-memory-layout" data-disqus-url="http://farseerfc.me/c-tricks-2-2-i386-memory-layout.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="i386">
<h2>2.2 I386平臺的內存佈局</h2>
<p>衆所周知，I386是32位體系結構。因此對於絕大多數I386平臺的C++編譯器而言，sizeof(int)=sizeof(long)=sizeof(void*)=4。當然C++標準對此沒有任何保證，我們也不應該試圖編寫依賴於此的代碼。</p>
<div class="line-block">
<div class="line">32位指針的可尋址空間爲4GB。爲充分利用這麼大的尋址空間，也是爲了支持其它更先進的技術比如多任務技術或者動態鏈接庫技術，WinNT使用虛擬內存技術，給與每個應用程序全部4GB的內存空間。4GB的地址被一分爲二，前2GB供應用程序自己使用，後2GB由系統內核分配和管理。這2GB的內存地址，通常被劃分成3種內存區使用：</div>
</div>
<div class="section" id="id1">
<h3>1 代碼及靜態數據區</h3>
<p>由代碼加載器從動態鏈接庫鏡像(通常是exe或dll文件)加載，通常定位到鏡像文件中指定的基址開始的內存區。如果基址所在內存已被佔用，動態連接器會將代碼或數據重定向到其它可用地址。</p>
<div class="line-block">
<div class="line">在C++中，靜態數據包括：名字空間(namespace)和全局(global)對象、函數的static對象、類的static數據成員 ...</div></div></div></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks.html" class="btn btn-primary btn-lg"><h2>C++ Tricks
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks" data-disqus-url="http://farseerfc.me/c-tricks.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<p><strong>C++ Tricks</strong></p>
<p><strong>By  FarseerFc</strong></p>
<p>從今天起，我再將在<a class="reference external" href="http://firechildren.spaces.live.com/">Live
Space</a>和<a class="reference external" href="http://76635424.qzone.qq.com/">QQZone</a>同時發表一系列文章，暫定名爲“C++Tricks”。</p>
<p>本文旨在記錄和闡述一些本人學習C++時所得的心得、技巧。總體來看，本文涉及的內容是每一個C++程序員都應該知道的，但是很少見諸C++教材。希望對各位同仁學習C++有所幫助。</p>
<div class="line-block">
<div class="line">也可以通過QQ或MSN向我索要此文的DOC版或PDF版，會比網頁上的更新的快一點。</div>
</div>
<div class="section" id="lexical-problems">
<h2>1      詞法問題(Lexical Problems)</h2>
<div class="line-block">
<div class="line"><br/></div>
</div>
<div class="section" id="id1">
<h3><a class="reference external" href="http://firechildren.spaces.live.com/blog/cns!1D8C01E7131A5AD4!139.entry">1.1 條件運算符(?:)</a></h3>
</div>
<div class="section" id="id2">
<h3><a class="reference external" href="http://firechildren.spaces.live.com/blog/cns!1D8C01E7131A5AD4!140.entry">1.2 逗號運算符(,)、邏輯運算符(&amp;&amp;,||)與運算符重載的陷阱</a></h3>
</div>
<div class="section" id="x86">
<h3>2      X86體系結構</h3>
<div class="section" id="id3">
<h4>     <a class="reference external" href="http://firechildren.spaces.live.com/blog/cns!1D8C01E7131A5AD4!146.entry">2.1 X86概述</a></h4>
</div>
<div class="section" id="i386">
<h4>     <a class="reference external" href="http://firechildren.spaces.live.com/blog/cns!1D8C01E7131A5AD4!147.entry">2.2 ...</a></h4></div></div></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-2-3-i386-stack-allocation-in-c-functions.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.3 I386平臺C函數內部的棧分配
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-2-3-i386-stack-allocation-in-c-functions.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-2-3-i386-stack-allocation-in-c-functions.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-2-3-i386-stack-allocation-in-c-functions.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-3-i386-stack-allocation-in-c-functions" data-disqus-url="http://farseerfc.me/c-tricks-2-3-i386-stack-allocation-in-c-functions.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="i386c">
<h2>2.3 I386平臺C函數內部的棧分配</h2>
<p>函數使用棧來保存局部變量，傳遞函數參數。進入函數時，函數在棧上爲函數中的變量統一預留棧空間，將esp減去相應字節數。當函數執行流程途徑變量聲明語句時，如有需要就調用相應構造函數將變量初始化。當執行流程即將離開聲明所在代碼塊時，以初始化的順序的相反順序逐一調用析構函數。當執行流程離開函數體時，將esp加上相應字節數，歸還棧空間。</p>
<p>爲了訪問函數變量，必須有方法定位每一個變量。變量相對於棧頂esp的位置在進入函數體時就已確定，但是由於esp會在函數執行期變動，所以將esp的值保存在ebp中，並事先將ebp的值壓棧。隨後，在函數體中通過ebp減去偏移量來訪問變量。以一個最簡單的函數爲例：</p>
<p>void f()</p>
<p>{</p>
<p>int a=0; //a的地址被分配爲ebp-4</p>
<p>char c=1; //c的地址被分配爲ebp-8</p>
<p>}</p>
<p>產生的彙編代碼爲：</p>
<p>push ebp ;將ebp壓棧</p>
<p>mov ebp,esp ;ebp=esp 用棧底備份棧頂指針</p>
<p>sub ...</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.4 I386平臺C函數調用邊界的棧分配
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-4-i386-stack-allocation-accross-function-invocation" data-disqus-url="http://farseerfc.me/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="i386c">
<h2>2.4 I386平臺C函數調用邊界的棧分配</h2>
<p>當調用一個函數時，主調函數將參數以聲明中相反的順序壓棧，然後將當前的代碼執行指針(eip)壓棧，然後跳轉到被調函數的入口點。在被調函數中，通過將ebp加上一個偏移量來訪問函數參數，以聲明中的順序(即壓棧的相反順序)來確定參數偏移量。被調函數返回時，彈出主調函數壓在棧中的代碼執行指針，跳回主調函數。再由主調函數恢復到調用前的棧。</p>
<p>函數的返回值不同於函數參數，通過寄存器傳遞。如果返回值類型可以放入32位變量，比如int、short、char、指針等類型，通過eax寄存器傳遞。如果返回值類型是64位變量，如_int64，同過edx+eax傳遞，edx存儲高32位，eax存儲低32位。如果返回值是浮點類型，如float和double，通過專用的浮點數寄存器棧的棧頂返回。如果返回值類型是用戶自定義結構，或C++類類型，通過修改函數簽名，以引用型參數的形式傳回。</p>
<p>同樣以最簡單的函數爲例：</p>
<p>void f(){</p>
<p>int i ...</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-2-5-address-alignment.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.5 I386平臺的邊界對齊(Align)
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-2-5-address-alignment.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-2-5-address-alignment.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-2-5-address-alignment.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-5-address-alignment" data-disqus-url="http://farseerfc.me/c-tricks-2-5-address-alignment.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="i386-align">
<h2>2.5 I386平臺的邊界對齊(Align)</h2>
<p>首先提問，既然I386上sizeof(int)==4、sizeof(char)==1，那麼如下結構(struct)A的sizeof是多少？</p>
<p>struct A{int i;char c;};</p>
<p>答案是sizeof(A)==8……1+5=8？</p>
<p>呵呵，這就是I386上的邊界對齊問題。我們知道，I386上有整整4GB的地址空間，不過並不是每一個字節上都可以放置任何東西的。由於內存總線帶寬等等的技術原因，很多體系結構都要求內存中的變量被放置於某一個邊界的地址上。如果違反這個要求，重則導致停機出錯，輕則減慢運行速度。對於I386平臺而言，類型爲T的變量必須放置在sizeof(T)的整數倍的地址上，char可以隨便放置，short必須放在2的整數倍的地址上，int必須放在4的整數倍的地址上，double必須放在8的整數倍的地址上。如果違反邊界對齊要求 ...</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-2-6-i386-variable-arguments.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.6 I386平臺C函數的可變參數表(Variable Arguments)
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-2-6-i386-variable-arguments.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-2-6-i386-variable-arguments.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-2-6-i386-variable-arguments.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-6-i386-variable-arguments" data-disqus-url="http://farseerfc.me/c-tricks-2-6-i386-variable-arguments.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="i386c-variable-arguments">
<h2>2.6 I386平臺C函數的可變參數表(Variable Arguments)</h2>
<p>基於前文(2.4節)分析，我們可以不通過函數簽名，直接通過指針運算，來得到函數的參數。由於參數的壓棧和彈出操作都由主調函數進行，所以被調函數對於參數的真實數量不需要知曉。因此，函數簽名中的變量聲明不是必需的。爲了支持這種參數使用形式，C語言提供可變參數表。可變參數表的語法形式是在參數表末尾添加三個句點形成的省略號“...”：</p>
<p>void g(int a,char* c,...);</p>
<p>省略號之前的逗號是可選的，並不影響詞法語法分析。上面的函數g可以接受2個或2個以上的參數，前兩個參數的類型固定，其後的參數類型未知，參數的個數也未知。爲了知道參數個數，我們必須通過其他方法，比如通過第一個參數傳遞：</p>
<p>g(3,”Hello”,2,4,5);//調用g並傳遞5個參數，其中後3個爲可變參數。</p>
<p>在函數的實現代碼中，可以通過2.4節敘述的 ...</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-2-7-i386-calling-conventions.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.7 I386平臺的其它函數調用模型
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-2-7-i386-calling-conventions.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-2-7-i386-calling-conventions.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-2-7-i386-calling-conventions.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-7-i386-calling-conventions" data-disqus-url="http://farseerfc.me/c-tricks-2-7-i386-calling-conventions.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="i386">
<h2>2.7 I386平臺的其它函數調用模型</h2>
<div class="line-block">
<div class="line">上文介紹的只是I386平臺上C函數調用的標準模型，被稱作__cdecl。事實上，Microsoft Visual C++編譯器還支持其它一些函數調用模型，所有調用模型名稱皆以雙下劃線開頭，下面列出所有函數調用模型的異同：</div>
</div>
<div class="section" id="cdecl">
<h3>1 __cdecl</h3>
<p>參數壓棧順序：逆序(從右至左)</p>
<p>參數堆棧恢復者：主調函數(caller)</p>
<div class="line-block">
<div class="line">__cdecl明確地指出函數使用C函數調用模型，這是默認的調用模型。</div>
</div>
</div>
<div class="section" id="stdcall">
<h3>2 __stdcall</h3>
<p>參數壓棧順序：逆序(從右至左)</p>
<p>參數堆棧恢復者：被調函數(callee)</p>
<div class="line-block">
<div class="line">__stdcall是微軟所謂的標準調用模型。可惜的是它與__cdecl不兼容。幾乎所有的Win32API函數使用這種函數調用模型，希望在DLL之間，或者在程序和WinNT操作系統之間傳遞函數指針的函數也應該使用這種模型。與__cdecl模型的不同之處在於，__stdcall模型下由被調函數恢復堆棧。主調函數在call語句之後，不需要再加上add語句。而被調函數的ret語句則被添加一個參數，代表函數參數堆棧的長度。因此，被調函數需要明確的知曉函數參數的數量和類型，所以在__stdcall模型下不支持可變參數表，所有參數必須寫明 ...</div></div></div></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-19 col-lg-19 col-md-20 col-sm-19 col-xs-24">
                            <a href="//farseerfc.me/c-tricks-2-1-x86-architecture.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.1 X86概述
                            </h2></a>
                        </div>
                        <div class="col-xl-5 col-lg-5 col-md-4 col-sm-5 hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/c-tricks-2-1-x86-architecture.html">繁體</a></li><li><a href="//farseerfc.me/zhs/c-tricks-2-1-x86-architecture.html" class="translate">简体</a></li></ul>
</div>

                            <div>
<small><span><a href="//farseerfc.me/c-tricks-2-1-x86-architecture.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-1-x86-architecture" data-disqus-url="http://farseerfc.me/c-tricks-2-1-x86-architecture.html"><i class="fa fa-comments-o"></i></a></span></small>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><p>從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a> 導入</p>
<div class="section" id="x86">
<h2>2.1   X86概述</h2>
<p>所謂X86體系結構，是指以Intel
8086芯片爲首的芯片所沿襲的CPU結構，一些文檔中又被稱作IA32體系結構。包括的芯片有但不限於:Intel
8086至
80486，奔騰(Pentium)系列處理器1至4，賽揚系列處理器，酷睿系列處理器，以及AMD的相應型號產品。X86體系結構在早期屬於16位處理器，自80386之後擴展爲32位處理器，所以一些文檔中又把80386之後的32位處理器體系稱作I386。自Pentium4後期，AMD的Athlon64開始，I386被進一步擴充爲64位處理器，含有64位尋址能力的X86體系結構被稱作X86-64或IA32-64。總之，市售的個人電腦用CPU，除蘋果的Macintosh之外，全部採用X86體系結構芯片。</p>
<p>在X86早期，16位的尋址能力只支持64KB(2^16=64K)內存，這顯然是不夠的。Intel採用分段尋址的方法，用4位段位+16位偏移量，提供了總共1MB(2^20=1M)的尋址能力。所以在X86的16位編程中，有兩種指針類型 ...</p></div>
                    </div>
                </div>
            </article>
        </div>
    </div>

        <ul class="pagination">
                <li class="prev disabled"><a href="#">&laquo;</a></li>
                    <li class="active"><a
                            href="//farseerfc.me/tag/c.html">1</a></li>
                    <li class=""><a
                            href="//farseerfc.me/tag/c2.html">2</a></li>
                <li class="next"><a
                        href="//farseerfc.me/tag/c2.html">&raquo;</a></li>
        </ul>
            </div>
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <a data-dismiss="modal" href="javascript:void(0);">
            <img id="mimg" src="" style="width:100%;height:auto">
          </a>
        </div>
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6" id="sidebar">
            <aside>

<section>
    <div class="sidebar-container">
<div class="sidebar-item ">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-user fa-lg"></i>
<a href="//farseerfc.me/about.html">
關於 farseerfc</a>
        </h4>
    </div>
<div class="panel-body" id="aboutme">
        <a href="//farseerfc.me/about.html"><img width="100%" src="//farseerfc.me/../images/avatar.jpg"/></a>
    <h3 style="text-align:center">
<a href="https://twitter.com/farseerfc"                  target="_blank">
<i class="fa fa-twitter" style="text-align:center"></i></a>
<a href="https://github.com/farseerfc"                   target="_blank">
<i class="fa fa-github" style="text-align:center"></i></a>
<a href="http://weibo.com/farseerfc"                     target="_blank">
<i class="fa fa-weibo" style="text-align:center"></i></a>
<a href="http://www.facebook.com/farseerfc"              target="_blank">
<i class="fa fa-facebook" style="text-align:center"></i></a>
<a href="https://plus.google.com/u/0/+JiachenYang/posts" target="_blank">
<i class="fa fa-google-plus" style="text-align:center"></i></a>
<a href="mailto:farseerfc@gmail.com" target="_blank">
<i class="mdi-communication-email" style="text-align:center"></i></a>
</h3>

</div>
</div>
</div>        



            

<div class="sidebar-item ">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<a href="//farseerfc.me/tags.html"><i class="fa fa-tags fa-lg"></i><span class="icon-label">標籤雲</span></a>
        </h4>
    </div>
<div class="panel-body">
    <ul class="list-group list-inline tagcloud" id="tags">
            <li class="list-group-item tag-2">
                <a href="//farseerfc.me/tag/pelican.html">
                    pelican <sup> 4</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/domain.html">
                    domain <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/ugh.html">
                    ugh <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/termcap.html">
                    termcap <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/macosx.html">
                    macosx <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/tty.html">
                    tty <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/tag/icse.html">
                    icse <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/travis.html">
                    travis <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/manager.html">
                    manager <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/paper.html">
                    paper <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/gnome3.html">
                    gnome3 <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/zz.html">
                    zz <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-2">
                <a href="//farseerfc.me/tag/linux.html">
                    linux <sup> 5</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/japan.html">
                    japan <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/writing.html">
                    writing <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/creationism.html">
                    creationism <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/ncurses.html">
                    ncurses <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/tag/java.html">
                    java <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/travis-ci.html">
                    travis-ci <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/chrome.html">
                    chrome <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/ruby.html">
                    ruby <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/kde5.html">
                    kde5 <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/msr.html">
                    msr <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/tag/desktop.html">
                    desktop <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/blog.html">
                    blog <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/wayland.html">
                    wayland <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/window.html">
                    window <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/archlinux.html">
                    archlinux <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/template.html">
                    template <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/you.html">
                    you <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/cloudflare.html">
                    cloudflare <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/plasma.html">
                    plasma <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/acpi.html">
                    acpi <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/css.html">
                    css <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/mining.html">
                    mining <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/sjtu.html">
                    sjtu <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/repository.html">
                    repository <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-2">
                <a href="//farseerfc.me/tag/python.html">
                    python <sup> 4</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/tag/material.html">
                    material <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/yssy.html">
                    yssy <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/oop.html">
                    oop <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/xorg.html">
                    xorg <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/ubuntu.html">
                    ubuntu <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/tag/compositor.html">
                    compositor <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/arch.html">
                    arch <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/pages.html">
                    pages <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/me.html">
                    me <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-1">
                <a href="//farseerfc.me/tag/c.html">
                    c <sup> 14</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/tag/github.html">
                    github <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/remote.html">
                    remote <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/windows.html">
                    windows <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/stdio.html">
                    stdio <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/bootstrap.html">
                    bootstrap <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/unix.html">
                    unix <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/tag/microsoft.html">
                    microsoft <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/will.html">
                    will <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/academic.html">
                    academic <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/terminfo.html">
                    terminfo <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/subsite.html">
                    subsite <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/tag/marry.html">
                    marry <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/tag/software.html">
                    software <sup> 2</sup>
                </a>
            </li>
    </ul>
</div>
</div>
</div>

<div class="sidebar-item hidden-xs">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub倉庫</span>
        </h4>
    </div>
    <div class="panel-body">
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
            <a href="https://github.com/farseerfc">@farseerfc</a> on GitHub
    </div>
</div>
</div>

<div class="sidebar-item hidden-xs">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-twitter fa-lg"></i><span class="icon-label">最新推文</span>
        </h4>
    </div>
<div id="twitter_timeline">
    <a class="twitter-timeline" data-chrome="noheader" href="https://twitter.com/farseerfc" data-widget-id="538997172142759936">Tweets by farseerfc</a>
</div>
<script>
var oldOnload = window.onload || function () {};
window.onload = function ()
{
oldOnload();

var FROM_CHINA=false;
$.ajax( { 
  url: '//freegeoip.net/json/', 
  type: 'POST', 
  dataType: 'jsonp',
  success: function(location) {
    // If the visitor is browsing from China
    if (location.country_code === 'CN' ) {
      FROM_CHINA = true;
	  $('#twitter_timeline').hide();
    }else{
		!function(d,s,id){
			var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
			if(!d.getElementById(id)){
				js=d.createElement(s);
				js.id=id;
				js.src=p+"://platform.twitter.com/widgets.js";
				fjs.parentNode.insertBefore(js,fjs);}
		}(document,"script","twitter-wjs");
    }
  }
 });
}
</script>
</div>
</div>
    </div>
</section>
            </aside>
        </div>
    </div>
</div>


<footer id="fcfooter">
   <hr/>
   <div class="container">
      <div class="row">
         <div class="col-md-24">
         <p><small>
            &copy; 2014 farseerfc
            &middot; 通過            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a> 生成                <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
    <!-- Content -->
  <!-- licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution 4.0 International License</a>, except where indicated otherwise. -->

         </small></p>
         </div>
      </div>
   </div>
   <a href="#" class="btn btn-primary btn-fab btn-raised mdi-editor-vertical-align-top withripple" style="position:fixed;bottom:30px;right:30px;z-index:1000"></a>
</footer>
<script src="//farseerfc.me/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//farseerfc.me/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="//farseerfc.me/theme/js/respond.min.js"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '//farseerfc.me/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'farseerfc',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="//farseerfc.me/theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'farseerfcgithub'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-29540705-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

<script src="//farseerfc.me/theme/js/han.min.js"></script>
<script src="//farseerfc.me/theme/js/ripples.min.js"></script>
<script src="//farseerfc.me/theme/js/material.min.js"></script>
<script src="//farseerfc.me/theme/js/jquery.bootstrap-autohidingnavbar.min.js"></script>
<script>
    $(document).ready(function() {
        $.material.init();
        $("div.navbar").autoHidingNavbar();
        $(".img-responsive").css("cursor","pointer").on('click',function(){
            var sr=$(this).attr('src');
            $('#mimg').attr('src',sr);
            $('#myModal').modal('show');
        });
        $('#affix-toc').affix({
          offset: {
            top: function(){
                if($('#affix-toc').hasClass("affix"))
                    return $('#sidebar').height();
                return $('#sidebar').height() - $('#affix-toc').height();
            },
            bottom: function (){
                return $("#fcfooter").offset().top -
                    $("#article-content").offset().top -
                    $("#article-content").height() + 20;
            }
          }
        });
        $('#affix-toc').width($('#sidebar').width());
        Han()
          .initCond()
          .renderElem()
          // .renderHanging()
          // .renderJiya()
          .renderHWS()
          .correctBasicBD()
          .substCombLigaWithPUA();
    });
    $(window).resize(function () {
       $('#affix-toc').width($('#sidebar').width());
    });
</script>

</body>
</html>