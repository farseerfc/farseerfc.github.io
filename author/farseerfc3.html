<!DOCTYPE html>
<html lang="zh_HK"
>
<head>
    <title>farseerfc 撰寫的文章 - Farseerfc的小窩</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">




        <meta name="author" content="farseerfc" />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Farseerfc的小窩" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Farseerfc的小窩"/>
        <meta property="og:url" content="//farseerfc.github.io"/>
        <meta property="og:description" content="Farseerfc的小窩"/>


    <!-- Bootstrap -->
        <link href="//farseerfc.github.io/theme/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="//farseerfc.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="//farseerfc.github.io/theme/css/pygments/monokai.css" rel="stylesheet">
    <link href="//farseerfc.github.io/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
        <link href="//farseerfc.github.io/theme/css/html4css1.css" rel="stylesheet">
        <link href="//farseerfc.github.io/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="//farseerfc.github.io/theme/css/style.css" type="text/css"/>

        <link href="//farseerfc.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Farseerfc的小窩 ATOM Feed"/>

        <link href="//farseerfc.github.io/theme/css/material.min.css" rel="stylesheet">
        <link href="//farseerfc.github.io/theme/css/ripples.min.css" rel="stylesheet">
</head>
<body>
<div style="display:none" id="title">farseerfc 撰寫的文章 - Farseerfc的小窩</div>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">開闔導航</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="//farseerfc.github.io/" class="navbar-brand">
Farseerfc的小窩            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">

                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                            <i class="mdi-action-translate"></i><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="//farseerfc.github.io/zhs/">简体</a></li>
                            <li><a href="//farseerfc.github.io/en/">English</a></li>
                            <li><a href="//farseerfc.github.io/jp/">日本語</a></li>
                        </ul>
                    </li>

                     <li class="hidden-sm "><a href="//farseerfc.github.io/pages/about.html">
                         About
                      </a></li>
                  <li>&nbsp;</li>
                        <li >
                            <a href="//farseerfc.github.io/category/import.html">Import</a>
                        </li>
                        <li >
                            <a href="//farseerfc.github.io/category/life.html">Life</a>
                        </li>
                        <li >
                            <a href="//farseerfc.github.io/category/programming.html">Programming</a>
                        </li>
            </ul>
            <ul class="nav navbar-right navbar-form">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query form-control col-lg-8" placeholder="搜索" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right hidden-sm">
              <li><a href="//farseerfc.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">歸檔</span></a></li>
              <li><a href="//farseerfc.github.io/feeds/all.atom.xml" title="Atom feeds for all articles"><i class="fa fa-rss"></i></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-10 col-md-9 col-sm-8">
            <div id="loading-block">
        <ol class="breadcrumb">
            <li><a href="//farseerfc.github.io" title="Farseerfc的小窩"><i class="fa fa-home fa-lg"></i></a></li>
            <li><a href="//farseerfc.github.io/authors.html" title="Authors">Authors</a></li>
            <li class="active">farseerfc</li>
        </ol>
    <div class="row">
        <div class="col-md-12 col-lg-6">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-lg-8 col-md-9 col-sm-12 col-xs-12">
                            <a href="//farseerfc.github.io/c-tricks-3-1-lvalue-rvalue-constant.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 3.1 左值右值與常量性(lvalue，rvalue <span class="amp">&amp;</span>&nbsp;constant)
                            </h2></a>
                        </div>
                        <div class="col-lg-4 col-md-3 hidden-sm hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i>繁體<span class="caret"></a>
<ul class="dropdown-menu">
<li><a href="//farseerfc.github.io/zhs/c-tricks-3-1-lvalue-rvalue-constant.html" class="translate">简体</a></li>
</ul>
<a onclick="$.get('//farseerfc.github.io/c-tricks-3-1-lvalue-rvalue-constant.text', function(data){$('#source-code').text(data)});$('#article-content').toggle();$('#source-content').toggle();" class="btn btn-primary" title="Show source code of this page">
<i class="fa fa-code"></i>
</a>
</div>

                            <div>
<span><small><a href="//farseerfc.github.io/c-tricks-3-1-lvalue-rvalue-constant.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-3-1-lvalue-rvalue-constant" data-disqus-url="http://farseerfc.github.io/c-tricks-3-1-lvalue-rvalue-constant.html"><i class="fa fa-cogs"></i></a></small></span>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><html><body><p> 從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a>  導入 </p>
<div class="section" id="lvalue-rvalue-constant">
<h2>3.1 左值右值與常量性 (lvalue，rvalue <span class="amp">&amp;</span> constant)</h2>
<p> 首先要搞清楚的是，什麼是左值，什麼是右值。這裏給出左值右值的定義：</p>
<p>1、左值是可以出現在等號 (=) 左邊的值，右值是隻能出現在等號右邊的值。</p>
<p>2、左值是可讀可寫的值，右值是隻讀的值。</p>
<p>3、左值有地址，右值沒有地址。</p>
<p> 根據左值右值的第二定義，值的左右性就是值的常量性 —— 常量是右值，非常量是左值。比如：</p>
<p>1=1;//Error</p>
<p> 這個複製操作在 C++ 中是語法錯誤，MSVC 給出的錯誤提示爲 “error C2106: ‘=’ :
left operand must be l-value”，就是說 ’=’ 的左操作數必須是一個左值，而字面常數 1 是一個右值 ...</p></div></body></html>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-md-12 col-lg-6">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-lg-8 col-md-9 col-sm-12 col-xs-12">
                            <a href="//farseerfc.github.io/c-tricks-2-2-i386-memory-layout.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.2&nbsp;I386平臺的內存佈局
                            </h2></a>
                        </div>
                        <div class="col-lg-4 col-md-3 hidden-sm hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i>繁體<span class="caret"></a>
<ul class="dropdown-menu">
<li><a href="//farseerfc.github.io/zhs/c-tricks-2-2-i386-memory-layout.html" class="translate">简体</a></li>
</ul>
<a onclick="$.get('//farseerfc.github.io/c-tricks-2-2-i386-memory-layout.text', function(data){$('#source-code').text(data)});$('#article-content').toggle();$('#source-content').toggle();" class="btn btn-primary" title="Show source code of this page">
<i class="fa fa-code"></i>
</a>
</div>

                            <div>
<span><small><a href="//farseerfc.github.io/c-tricks-2-2-i386-memory-layout.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-2-i386-memory-layout" data-disqus-url="http://farseerfc.github.io/c-tricks-2-2-i386-memory-layout.html"><i class="fa fa-cogs"></i></a></small></span>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><html><body><p> 從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a>  導入 </p>
<div class="section" id="i386">
<h2>2.2 I386 平臺的內存佈局 </h2>
<p> 衆所周知，I386 是 32 位體系結構。因此對於絕大多數 I386 平臺的 C++ 編譯器而言，sizeof(int)=sizeof(long)=sizeof(void*)=4。當然 C++ 標準對此沒有任何保證，我們也不應該試圖編寫依賴於此的代碼。</p>
<div class="line-block">
<div class="line">32 位指針的可尋址空間爲 4GB。爲充分利用這麼大的尋址空間，也是爲了支持其它更先進的技術比如多任務技術或者動態鏈接庫技術，WinNT 使用虛擬內存技術，給與每個應用程序全部 4GB 的內存空間。4GB 的地址被一分爲二，前 2GB 供應用程序自己使用，後 2GB 由系統內核分配和管理。這 2GB ...</div></div></div></body></html>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-md-12 col-lg-6">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-lg-8 col-md-9 col-sm-12 col-xs-12">
                            <a href="//farseerfc.github.io/c-tricks.html" class="btn btn-primary btn-lg"><h2>C++&nbsp;Tricks
                            </h2></a>
                        </div>
                        <div class="col-lg-4 col-md-3 hidden-sm hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i>繁體<span class="caret"></a>
<ul class="dropdown-menu">
<li><a href="//farseerfc.github.io/zhs/c-tricks.html" class="translate">简体</a></li>
</ul>
<a onclick="$.get('//farseerfc.github.io/c-tricks.text', function(data){$('#source-code').text(data)});$('#article-content').toggle();$('#source-content').toggle();" class="btn btn-primary" title="Show source code of this page">
<i class="fa fa-code"></i>
</a>
</div>

                            <div>
<span><small><a href="//farseerfc.github.io/c-tricks.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks" data-disqus-url="http://farseerfc.github.io/c-tricks.html"><i class="fa fa-cogs"></i></a></small></span>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><html><body><p> 從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a>  導入 </p>
<p><strong>C++ Tricks</strong></p>
<p><strong>By  FarseerFc</strong></p>
<p> 從今天起，我再將在 <a class="reference external" href="http://firechildren.spaces.live.com/">Live
Space</a> 和 <a class="reference external" href="http://76635424.qzone.qq.com/">QQZone</a> 同時發表一系列文章，暫定名爲 “C++Tricks”。</p>
<p> 本文旨在記錄和闡述一些本人學習 C++ 時所得的心得、技巧。總體來看，本文涉及的內容是每一個 C++ 程序員都應該知道的，但是很少見諸 C++ 教材。希望對各位同仁學習 C++ 有所幫助。</p>
<div class="line-block">
<div class="line"> 也可以通過 QQ 或 MSN 向我索要此文的 DOC 版或 PDF 版，會比網頁上的更新的快一點。</div>
</div>
<div class="section" id="lexical-problems">
<h2>1      詞法問題 (Lexical Problems)</h2>
<div class="line-block">
<div class="line"><br/></div>
</div>
<div class="section" id="id1">
<h3><a class="reference external" href="http://firechildren.spaces.live.com/blog/cns!1D8C01E7131A5AD4!139.entry">1.1  條件運算符 ...</a></h3></div></div></body></html>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-md-12 col-lg-6">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-lg-8 col-md-9 col-sm-12 col-xs-12">
                            <a href="//farseerfc.github.io/c-tricks-2-3-i386-stack-allocation-in-c-functions.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.3&nbsp;I386平臺C函數內部的棧分配
                            </h2></a>
                        </div>
                        <div class="col-lg-4 col-md-3 hidden-sm hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i>繁體<span class="caret"></a>
<ul class="dropdown-menu">
<li><a href="//farseerfc.github.io/zhs/c-tricks-2-3-i386-stack-allocation-in-c-functions.html" class="translate">简体</a></li>
</ul>
<a onclick="$.get('//farseerfc.github.io/c-tricks-2-3-i386-stack-allocation-in-c-functions.text', function(data){$('#source-code').text(data)});$('#article-content').toggle();$('#source-content').toggle();" class="btn btn-primary" title="Show source code of this page">
<i class="fa fa-code"></i>
</a>
</div>

                            <div>
<span><small><a href="//farseerfc.github.io/c-tricks-2-3-i386-stack-allocation-in-c-functions.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-3-i386-stack-allocation-in-c-functions" data-disqus-url="http://farseerfc.github.io/c-tricks-2-3-i386-stack-allocation-in-c-functions.html"><i class="fa fa-cogs"></i></a></small></span>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><html><body><p> 從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a>  導入 </p>
<div class="section" id="i386c">
<h2>2.3 I386 平臺 C 函數內部的棧分配 </h2>
<p> 函數使用棧來保存局部變量，傳遞函數參數。進入函數時，函數在棧上爲函數中的變量統一預留棧空間，將 esp 減去相應字節數。當函數執行流程途徑變量聲明語句時，如有需要就調用相應構造函數將變量初始化。當執行流程即將離開聲明所在代碼塊時，以初始化的順序的相反順序逐一調用析構函數。當執行流程離開函數體時，將 esp 加上相應字節數，歸還棧空間。</p>
<p> 爲了訪問函數變量，必須有方法定位每一個變量。變量相對於棧頂 esp 的位置在進入函數體時就已確定，但是由於 esp 會在函數執行期變動，所以將 esp 的值保存在 ebp 中，並事先將 ebp 的值壓棧。隨後，在函數體中通過 ebp 減去偏移量來訪問變量。以一個最簡單的函數爲例：</p>
<p>void f ...</p></div></body></html>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-md-12 col-lg-6">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-lg-8 col-md-9 col-sm-12 col-xs-12">
                            <a href="//farseerfc.github.io/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.4&nbsp;I386平臺C函數調用邊界的棧分配
                            </h2></a>
                        </div>
                        <div class="col-lg-4 col-md-3 hidden-sm hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i>繁體<span class="caret"></a>
<ul class="dropdown-menu">
<li><a href="//farseerfc.github.io/zhs/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html" class="translate">简体</a></li>
</ul>
<a onclick="$.get('//farseerfc.github.io/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.text', function(data){$('#source-code').text(data)});$('#article-content').toggle();$('#source-content').toggle();" class="btn btn-primary" title="Show source code of this page">
<i class="fa fa-code"></i>
</a>
</div>

                            <div>
<span><small><a href="//farseerfc.github.io/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-4-i386-stack-allocation-accross-function-invocation" data-disqus-url="http://farseerfc.github.io/c-tricks-2-4-i386-stack-allocation-accross-function-invocation.html"><i class="fa fa-cogs"></i></a></small></span>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><html><body><p> 從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a>  導入 </p>
<div class="section" id="i386c">
<h2>2.4 I386 平臺 C 函數調用邊界的棧分配 </h2>
<p> 當調用一個函數時，主調函數將參數以聲明中相反的順序壓棧，然後將當前的代碼執行指針 (eip) 壓棧，然後跳轉到被調函數的入口點。在被調函數中，通過將 ebp 加上一個偏移量來訪問函數參數，以聲明中的順序 ( 即壓棧的相反順序 ) 來確定參數偏移量。被調函數返回時，彈出主調函數壓在棧中的代碼執行指針，跳回主調函數。再由主調函數恢復到調用前的棧。</p>
<p> 函數的返回值不同於函數參數，通過寄存器傳遞。如果返回值類型可以放入 32 位變量，比如 int、short、char、指針等類型，通過 eax 寄存器傳遞。如果返回值類型是 64 位變量，如 _int64，同過 edx+eax 傳遞 ...</p></div></body></html>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-md-12 col-lg-6">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-lg-8 col-md-9 col-sm-12 col-xs-12">
                            <a href="//farseerfc.github.io/c-tricks-2-5-address-alignment.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.5&nbsp;I386平臺的邊界對齊(Align)
                            </h2></a>
                        </div>
                        <div class="col-lg-4 col-md-3 hidden-sm hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i>繁體<span class="caret"></a>
<ul class="dropdown-menu">
<li><a href="//farseerfc.github.io/zhs/c-tricks-2-5-address-alignment.html" class="translate">简体</a></li>
</ul>
<a onclick="$.get('//farseerfc.github.io/c-tricks-2-5-address-alignment.text', function(data){$('#source-code').text(data)});$('#article-content').toggle();$('#source-content').toggle();" class="btn btn-primary" title="Show source code of this page">
<i class="fa fa-code"></i>
</a>
</div>

                            <div>
<span><small><a href="//farseerfc.github.io/c-tricks-2-5-address-alignment.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-5-address-alignment" data-disqus-url="http://farseerfc.github.io/c-tricks-2-5-address-alignment.html"><i class="fa fa-cogs"></i></a></small></span>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><html><body><p> 從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a>  導入 </p>
<div class="section" id="i386-align">
<h2>2.5 I386 平臺的邊界對齊 (Align)</h2>
<p> 首先提問，既然 I386 上 sizeof(int)==4、sizeof(char)==1，那麼如下結構 (struct)A 的 sizeof 是多少？</p>
<p>struct A{int i;char c;};</p>
<p> 答案是 sizeof(A)==8……1+5=8？</p>
<p> 呵呵，這就是 I386 上的邊界對齊問題。我們知道，I386 上有整整 4GB 的地址空間，不過並不是每一個字節上都可以放置任何東西的。由於內存總線帶寬等等的技術原因 ...</p></div></body></html>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-md-12 col-lg-6">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-lg-8 col-md-9 col-sm-12 col-xs-12">
                            <a href="//farseerfc.github.io/c-tricks-2-6-i386-variable-arguments.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.6 I386平臺C函數的可變參數表(Variable&nbsp;Arguments)
                            </h2></a>
                        </div>
                        <div class="col-lg-4 col-md-3 hidden-sm hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i>繁體<span class="caret"></a>
<ul class="dropdown-menu">
<li><a href="//farseerfc.github.io/zhs/c-tricks-2-6-i386-variable-arguments.html" class="translate">简体</a></li>
</ul>
<a onclick="$.get('//farseerfc.github.io/c-tricks-2-6-i386-variable-arguments.text', function(data){$('#source-code').text(data)});$('#article-content').toggle();$('#source-content').toggle();" class="btn btn-primary" title="Show source code of this page">
<i class="fa fa-code"></i>
</a>
</div>

                            <div>
<span><small><a href="//farseerfc.github.io/c-tricks-2-6-i386-variable-arguments.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-6-i386-variable-arguments" data-disqus-url="http://farseerfc.github.io/c-tricks-2-6-i386-variable-arguments.html"><i class="fa fa-cogs"></i></a></small></span>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><html><body><p> 從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a>  導入 </p>
<div class="section" id="i386c-variable-arguments">
<h2>2.6 I386 平臺 C 函數的可變參數表 (Variable Arguments)</h2>
<p> 基於前文 (2.4 節 ) 分析，我們可以不通過函數簽名，直接通過指針運算，來得到函數的參數。由於參數的壓棧和彈出操作都由主調函數進行，所以被調函數對於參數的真實數量不需要知曉。因此，函數簽名中的變量聲明不是必需的。爲了支持這種參數使用形式，C 語言提供可變參數表。可變參數表的語法形式是在參數表末尾添加三個句點形成的省略號 “…”：</p>
<p>void g(int a,char* c,…);</p>
<p> 省略號之前的逗號是可選的，並不影響詞法語法分析。上面的函數 g 可以接受 2 個或 2 個以上的參數，前兩個參數的類型固定，其後的參數類型未知，參數的個數也未知。爲了知道參數個數，我們必須通過其他方法，比如通過第一個參數傳遞 ...</p></div></body></html>
                    </div>
                </div>
            </article>
        </div>
        <div class="col-md-12 col-lg-6">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-lg-8 col-md-9 col-sm-12 col-xs-12">
                            <a href="//farseerfc.github.io/c-tricks-2-7-i386-calling-conventions.html" class="btn btn-primary btn-lg"><h2>C++ Tricks 2.7&nbsp;I386平臺的其它函數調用模型
                            </h2></a>
                        </div>
                        <div class="col-lg-4 col-md-3 hidden-sm hidden-xs">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i>繁體<span class="caret"></a>
<ul class="dropdown-menu">
<li><a href="//farseerfc.github.io/zhs/c-tricks-2-7-i386-calling-conventions.html" class="translate">简体</a></li>
</ul>
<a onclick="$.get('//farseerfc.github.io/c-tricks-2-7-i386-calling-conventions.text', function(data){$('#source-code').text(data)});$('#article-content').toggle();$('#source-content').toggle();" class="btn btn-primary" title="Show source code of this page">
<i class="fa fa-code"></i>
</a>
</div>

                            <div>
<span><small><a href="//farseerfc.github.io/c-tricks-2-7-i386-calling-conventions.html#disqus_thread" class="btn btn-primary" data-disqus-identifier="c-tricks-2-7-i386-calling-conventions" data-disqus-url="http://farseerfc.github.io/c-tricks-2-7-i386-calling-conventions.html"><i class="fa fa-cogs"></i></a></small></span>                            </div>
                        </div>
                    </div>

                </div>
                <div class="panel-body">
                    <div class="summary"><html><body><p> 從 <a class="reference external" href="http://farseerfc.wordpress.com/">farseerfc.wordpress.com</a>  導入 </p>
<div class="section" id="i386">
<h2>2.7 I386 平臺的其它函數調用模型 </h2>
<div class="line-block">
<div class="line"> 上文介紹的只是 I386 平臺上 C 函數調用的標準模型，被稱作 __cdecl。事實上，Microsoft Visual C++ 編譯器還支持其它一些函數調用模型，所有調用模型名稱皆以雙下劃線開頭，下面列出所有函數調用模型的異同：</div>
</div>
<div class="section" id="cdecl">
<h3>1 __cdecl</h3>
<p> 參數壓棧順序：逆序 ( 從右至左 )</p>
<p> 參數堆棧恢復者：主調函數 (caller)</p>
<div class="line-block">
<div class="line">__cdecl 明確地指出函數使用 C 函數調用模型，這是默認的調用模型。</div>
</div>
</div>
<div class="section" id="stdcall">
<h3>2 __stdcall</h3>
<p> 參數壓棧順序：逆序 ( 從右至左 )</p>
<p> 參數堆棧恢復者：被調函數 (callee)</p>
<div class="line-block">
<div class="line">__stdcall 是微軟所謂的標準調用模型。可惜的是它與 __cdecl 不兼容。幾乎所有的 ...</div></div></div></div></body></html>
                    </div>
                </div>
            </article>
        </div>
    </div>

        <ul class="pagination">
                <li class="prev"><a href="//farseerfc.github.io/author/farseerfc2.html">&laquo;</a>
                </li>
                    <li class=""><a
                            href="//farseerfc.github.io/author/farseerfc.html">1</a></li>
                    <li class=""><a
                            href="//farseerfc.github.io/author/farseerfc2.html">2</a></li>
                    <li class="active"><a
                            href="//farseerfc.github.io/author/farseerfc3.html">3</a></li>
                    <li class=""><a
                            href="//farseerfc.github.io/author/farseerfc4.html">4</a></li>
                <li class="next"><a
                        href="//farseerfc.github.io/author/farseerfc4.html">&raquo;</a></li>
        </ul>
            </div>
        </div>
        <div class="col-lg-2 col-md-3 col-sm-4" id="sidebar">
            <aside>

<section>
    <div class="row">
<div class="col-md-12 col-sm-12 ">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-home fa-lg"></i>
<a href="//farseerfc.github.io/pages/about.html">
關於 farseerfc</a>
        </h4>
    </div>
<div class="panel-body" id="aboutme">
        <a href="//farseerfc.github.io/pages/about.html"><img width="100%" src="//farseerfc.github.io/../images/avatar.jpg"/></a>
    <h3 style="text-align:center">
<a href="https://twitter.com/farseerfc"                  target="_blank">
<i class="fa fa-twitter" style="text-align:center"></i></a>
<a href="https://github.com/farseerfc"                   target="_blank">
<i class="fa fa-github" style="text-align:center"></i></a>
<a href="http://weibo.com/farseerfc"                     target="_blank">
<i class="fa fa-weibo" style="text-align:center"></i></a>
<a href="http://www.facebook.com/farseerfc"              target="_blank">
<i class="fa fa-facebook" style="text-align:center"></i></a>
<a href="https://plus.google.com/u/0/+JiachenYang/posts" target="_blank">
<i class="fa fa-google-plus" style="text-align:center"></i></a>
<a href="mailto:farseerfc@gmail.com" target="_blank">
<i class="mdi-communication-email" style="text-align:center"></i></a>
</h3>

</div>
</div>
</div>        



            

<div class="col-md-12 col-sm-12 ">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<a href="//farseerfc.github.io/tags.html"><i class="fa fa-tags fa-lg"></i><span class="icon-label">標籤雲</span></a>
        </h4>
    </div>
<div class="panel-body">
    <ul class="list-group list-inline tagcloud" id="tags">
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/plasma.html">
                    plasma <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/me.html">
                    me <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/marry.html">
                    marry <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/acpi.html">
                    acpi <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-1">
                <a href="//farseerfc.github.io/tag/c.html">
                    C++ <sup> 14</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/oop.html">
                    oop <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/creationism.html">
                    creationism <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/template.html">
                    template <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/yssy.html">
                    yssy <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.github.io/tag/linux.html">
                    linux <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/zz.html">
                    zz <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/sjtu.html">
                    sjtu <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.github.io/tag/software.html">
                    software <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/msr.html">
                    msr <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/repository.html">
                    repository <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.github.io/tag/microsoft.html">
                    microsoft <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/kde5.html">
                    kde5 <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.github.io/tag/java.html">
                    Java <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-2">
                <a href="//farseerfc.github.io/tag/python.html">
                    python <sup> 3</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/ruby.html">
                    ruby <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/pelican.html">
                    pelican <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/mining.html">
                    mining <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.github.io/tag/icse.html">
                    icse <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/you.html">
                    you <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/will.html">
                    will <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.github.io/tag/gnome3.html">
                    gnome3 <sup> 1</sup>
                </a>
            </li>
    </ul>
</div>
</div>
</div>
<div class="col-md-12 col-sm-12 ">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">友情鏈接</span>
        </h4>
    </div>
<div class="panel-body list-group"  id="links">
        <div class="list-group-item">
            <div class="row-action-primary">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/03/Vulpes_vulpes_laying_in_snow.jpg"/>
            </div>
            <div class="row-content">
                <h6 class="list-group-item-heading">
                    <a href="http://lilydjwg.is-programmer.com/" target="_blank">lilydjwg</a>
                </h6>
                <small class="list-group-item-text">依雲（aka. 百合仙子）</small>
            </div>
        </div>
        <div class="list-group-separator"></div>
        <div class="list-group-item">
            <div class="row-action-primary">
                <img src="https://www.gravatar.com/avatar/48b2061f9e9a00023417bc1174532e81"/>
            </div>
            <div class="row-content">
                <h6 class="list-group-item-heading">
                    <a href="http://blog.felixc.at/" target="_blank">felixonmars</a>
                </h6>
                <small class="list-group-item-text">火星貓大大</small>
            </div>
        </div>
        <div class="list-group-separator"></div>
        <div class="list-group-item">
            <div class="row-action-primary">
                <img src="https://www.gravatar.com/avatar/4a0750751cf52f6dc1cf5629de3a20d0"/>
            </div>
            <div class="row-content">
                <h6 class="list-group-item-heading">
                    <a href="http://blog.phoenixlzx.com/" target="_blank">phoenixlzx</a>
                </h6>
                <small class="list-group-item-text">鳳凰菊苣</small>
            </div>
        </div>
        <div class="list-group-separator"></div>
        <div class="list-group-item">
            <div class="row-action-primary">
                <img src="https://avatars3.githubusercontent.com/u/673448"/>
            </div>
            <div class="row-content">
                <h6 class="list-group-item-heading">
                    <a href="https://fbq.github.io/" target="_blank">fixme</a>
                </h6>
                <small class="list-group-item-text">水源技站</small>
            </div>
        </div>
        <div class="list-group-separator"></div>
        <div class="list-group-item">
            <div class="row-action-primary">
                <img src="https://www.gravatar.com/avatar/efc02b78d248419a55b36d945dcfdeca"/>
            </div>
            <div class="row-content">
                <h6 class="list-group-item-heading">
                    <a href="http://quininer.github.io/" target="_blank">quininer</a>
                </h6>
                <small class="list-group-item-text">純JavaScript的帥氣博客</small>
            </div>
        </div>
        <div class="list-group-separator"></div>
        <div class="list-group-item">
            <div class="row-action-primary">
                <img src="https://bbs.sjtu.edu.cn/favicon.ico"/>
            </div>
            <div class="row-content">
                <h6 class="list-group-item-heading">
                    <a href="http://bbs.sjtu.edu.cn/" target="_blank">飲水思源</a>
                </h6>
                <small class="list-group-item-text">上海交通大學飲水思源BBS站</small>
            </div>
        </div>
        <div class="list-group-separator"></div>
</div>
</div>
</div>
<div class="col-md-12 col-sm-12 hidden-xs">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub倉庫</span>
        </h4>
    </div>
    <div class="panel-body">
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
            <a href="https://github.com/farseerfc">@farseerfc</a> on GitHub
    </div>
</div>
</div>

<div class="col-md-12 col-sm-12 hidden-xs">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-twitter fa-lg"></i><span class="icon-label">最新推文</span>
        </h4>
    </div>
<div id="twitter_timeline">
    <a class="twitter-timeline" data-chrome="noheader" href="https://twitter.com/farseerfc" data-widget-id="538997172142759936">Tweets by farseerfc</a>
</div>
<script>
var oldOnload = window.onload || function () {};
window.onload = function ()
{
oldOnload();
!function(d,s,id){
	var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
	if(!d.getElementById(id)){
		js=d.createElement(s);
		js.id=id;
		js.src=p+"://platform.twitter.com/widgets.js";
		fjs.parentNode.insertBefore(js,fjs);}
}(document,"script","twitter-wjs");
}</script>
</div>
</div>

    </div>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-md-10 col-sm-9">&copy; 2014 farseerfc
            &middot; 這些開源技術驅動：            <a href="http://fezvrasta.github.io/bootstrap-material-design/" target="_blank">bootstrap-material-design</a>,
            <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a> 以及            <a href="https://www.python.org/" target="_blank">Python</a>.              <p><small>  <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-md-2 col-sm-3"><p class="pull-right"><a href="#" class="btn btn-default"><i class="fa fa-arrow-up"></i>回頁首</a></p></div>
      </div>
   </div>
</footer>
<script src="//farseerfc.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//farseerfc.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="//farseerfc.github.io/theme/js/respond.min.js"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '//farseerfc.github.io/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'farseerfc',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="//farseerfc.github.io/theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'farseerfcgithub'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-29540705-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

<script src="//farseerfc.github.io/theme/js/ripples.min.js"></script>
<script src="//farseerfc.github.io/theme/js/material.min.js"></script>
<script src="//farseerfc.github.io/theme/js/jquery.bootstrap-autohidingnavbar.min.js"></script>
<script>
    $(document).ready(function() {
        $.material.init();
        $("div.navbar").autoHidingNavbar();
    });
</script>

</body>
</html>