<!DOCTYPE html>
<html lang="zh-Hant"
>
<head>
    <title>Farseerfc的小窝</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <meta name="theme-color" content="#6b5594">
    <meta name="msapplication-navbutton-color" content="#6b5594">
    <meta name="apple-mobile-web-app-status-bar-style" content="#6b5594">
    <link rel="manifest" href="/manifest.json">


<link rel="apple-touch-icon" sizes="180x180" href="//farseerfc.me/zhs/images/apple-touch-icon.png">
<link rel="icon" type="image/png" href="//farseerfc.me/zhs/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="//farseerfc.me/zhs/images/favicon-16x16.png" sizes="16x16">
<link rel="mask-icon" href="//farseerfc.me/zhs/images/safari-pinned-tab.svg" color="#603cba">

<link rel="canonical" href="//farseerfc.me/zhs">
        <meta name="author" content="farseerfc" />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Farseerfc的小窝" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Farseerfc的小窝"/>
        <meta property="og:url" content="//farseerfc.me/zhs"/>
        <meta property="og:description" content="Farseerfc的小窝"/>



    <!-- Bootstrap -->
        <link href="//farseerfc.me/zhs/../theme/css/bootstrap.min.css" rel="stylesheet">

    <link href="//farseerfc.me/zhs/../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="//farseerfc.me/zhs/../theme/css/pygments/monokai.css" rel="stylesheet">
    <link href="//farseerfc.me/zhs/../theme/tipuesearch/tipuesearch.css" rel="stylesheet">
        <link href="//farseerfc.me/zhs/../theme/css/html4css1.css" rel="stylesheet">
    <link rel="stylesheet" href="//farseerfc.me/zhs/../theme/css/style.css" type="text/css"/>

        <link href="//farseerfc.me/zhs/feeds/atom.xml" type="application/atom+xml" rel="alternate"
              title="Farseerfc的小窝 ATOM Feed"/>

        <link href="//farseerfc.me/zhs/../theme/css/material.min.css" rel="stylesheet">
        <link href="//farseerfc.me/zhs/../theme/css/ripples.css" rel="stylesheet">
    <link href="//farseerfc.me/zhs/../theme/css/github-markdown.css" rel="stylesheet">
</head>
<body>
<div style="display:none" id="title">Farseerfc的小窝</div>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
         <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">切换导航</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="//farseerfc.me/zhs/" class="navbar-brand">
Farseerfc的小窝            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">

                    <li class="dropdown hidden-lg hidden-xl">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                            <i class="mdi-action-translate"></i><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="//farseerfc.me/">繁體</a></li>
                            <li><a href="//farseerfc.me/jp/">日本語</a></li>
                            <li><a href="//farseerfc.me/en/">English</a></li>
                            <li class="active"><a href="//farseerfc.me/zhs/">简体</a></li>
                        </ul>
                    </li>

                    <ul class="nav navbar-nav hidden-xs hidden-md hidden-sm">
                        <li><a href="//farseerfc.me/"><i class="mdi-action-translate"></i>繁體</a></li>
                        <li><a href="//farseerfc.me/jp/"><i class="mdi-action-translate"></i>日本語</a></li>
                        <li><a href="//farseerfc.me/en/"><i class="mdi-action-translate"></i>English</a></li>
                        <li class="active"><a href="//farseerfc.me/zhs/"><i class="mdi-action-translate"></i>简体</a></li>
                    </ul>

                    <li class="dropdown hidden-md hidden-lg hidden-xl">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                            <i class="fa fa-user"></i><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                             <li class=""><a href="//farseerfc.me/zhs/pages/about.html"><i class="fa fa-user"></i>
                                 关于
                              </a></li>
                             <li class=""><a href="//farseerfc.me/zhs/pages/links.html"><i class="fa fa-user"></i>
                                 友情链接
                              </a></li>
                        </ul>
                    </li>

                  <ul class="nav navbar-nav hidden-xs hidden-sm">
                     <li class=""><a href="//farseerfc.me/zhs/pages/about.html"><i class="fa fa-user"></i>
                         关于
                      </a></li>
                     <li class=""><a href="//farseerfc.me/zhs/pages/links.html"><i class="fa fa-user"></i>
                         友情链接
                      </a></li>
                  </ul>
            </ul>

                <ul class="nav navbar-nav hidden-md hidden-lg hidden-xl">
                    <li class="dropdown hidden-md hidden-lg hidden-xl">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                            <i class="fa fa-folder-o"></i><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li >
                                <a href="//farseerfc.me/zhs/category/import.html"><i class="fa fa-folder-o"></i> Import</a>
                            </li>
                            <li >
                                <a href="//farseerfc.me/zhs/category/life.html"><i class="fa fa-folder-o"></i> Life</a>
                            </li>
                            <li >
                                <a href="//farseerfc.me/zhs/category/tech.html"><i class="fa fa-folder-o"></i> Tech</a>
                            </li>
                        </ul>
                    </li>
                </ul>

                    <ul class="nav navbar-nav hidden-xs hidden-sm">
                        <li >
                            <a href="//farseerfc.me/zhs/category/import.html"><i class="fa fa-folder-o"></i> Import</a>
                        </li>
                        <li >
                            <a href="//farseerfc.me/zhs/category/life.html"><i class="fa fa-folder-o"></i> Life</a>
                        </li>
                        <li >
                            <a href="//farseerfc.me/zhs/category/tech.html"><i class="fa fa-folder-o"></i> Tech</a>
                        </li>
                    </ul>



            <ul class="nav navbar-nav navbar-right hidden-sm hidden-md hidden-lg hidden-xl">
                <li class="dropdown hidden-md hidden-lg hidden-xl">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">
                        <i class="fa fa-search"></i><span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                      <li><span>
                        <form class="navbar-search" action="/search.html">
                          <input type="text" class="search-query form-control col-lg-16" placeholder="搜索" name="q" id="tipue_search_input" required>
                        </form></span>
                      </li>
                    </ul>
                </li>
            </ul>

            <ul class="nav navbar-right navbar-form hidden-xs">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query form-control col-lg-16" placeholder="搜索" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
            </ul>

            <ul class="nav navbar-nav navbar-right hidden-xs">
              <li><a href="//farseerfc.me/zhs/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">归档</span></a></li>
              <li><a href="//farseerfc.me/zhs/feeds/atom.xml" title="Atom feeds for all articles"><i class="fa fa-rss"></i></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container" style="min-height: 100%;height: auto !important;height: 100%;">
    <div class="row" style="padding-bottom:80px;padding-top:80px;">
        <div class="col-xl-21 col-lg-20 col-md-18">
            <div id="loading-block">
    <ol class="breadcrumb">
        <li><a href="//farseerfc.me/zhs/" title="Farseerfc的小窝"><i class="fa fa-home fa-lg"></i></a></li>
        <li><a href="//farseerfc.me/zhs/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">全部文章</span></a></li>
        <li><a href="//farseerfc.me/zhs/feeds/atom.xml" title="订阅全部文章"><i class="fa fa-rss"></i></a></li>
    </ol>
    <div class="articles-container">
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/followup-about-swap.html" class="btn btn-primary btn-lg"><h2>关于 swap 的一些补充
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/followup-about-swap.html">简体</a></li><li><a href="//farseerfc.me/zhs/../followup-about-swap.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2020-10-06T13:45:00+09:00"><i class="fa fa-calendar"></i> 2020年10月06日(周二)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary"><p>上周翻译完 <a class="reference external" href="//farseerfc.me/zhs/in-defence-of-swap.html">【译】替 swap 辩护：常见的误解</a>
之后很多朋友们似乎还有些疑问和误解，于是写篇后续澄清一下。事先声明我不是内核开发者，
这里说的只是我的理解，
<a class="reference external" href="https://www.kernel.org/doc/gorman/html/understand/understand005.html">基于内核文档中关于物理内存的描述</a>
，新的内核代码的具体行为可能和我的理解有所出入，欢迎踊跃讨论。</p>
<div class="panel panel-default">
<div class="panel-heading">
<a class="reference external" href="https://www.youtube.com/watch?v=7aONIVSXiJ8">Introduction to Memory Management in Linux</a></div>
<div class="panel-body">
<div align="left" class="youtube embed-responsive embed-responsive-16by9"><iframe allow="fullscreen" class="embed-responsive-item" frameborder="0" src="https://www.youtube.com/embed/7aONIVSXiJ8"></iframe></div></div>
</div>
<div class="section" id="id3">
<h2>误解1: swap 是虚拟内存，虚拟内存肯定比物理内存慢嘛</h2>
<p>这种误解进一步的结论通常是：「使用虚拟内存肯定会减慢系统运行时性能，如果物理内存足够为什么还要用虚拟的？」
这种误解是把虚拟内存和交换区的实现方式类比于「虚拟磁盘」或者「虚拟机」等同的方式，
也隐含「先用物理内存，用完了之后用虚拟内存」也即下面的「误解3」的理解。</p>
<p>首先，交换区（swap） <strong>不是</strong> 虚拟内存。操作系统中说「物理内存」还是「虚拟内存」的时候在指程序代码
寻址时使用的内存地址方式，使用物理地址空间时是在访问物理内存，使用虚拟地址空间时是在访问虚拟内存 …</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/in-defence-of-swap.html" class="btn btn-primary btn-lg"><h2>【译】替 swap 辩护：常见的误解
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/in-defence-of-swap.html">简体</a></li><li><a href="//farseerfc.me/zhs/../in-defence-of-swap.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2020-09-30T13:45:00+09:00"><i class="fa fa-calendar"></i> 2020年09月30日(周三)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary"><p>这篇翻译自 Chris Down 的博文
<a class="reference external" href="https://chrisdown.name/2018/01/02/in-defence-of-swap.html">In defence of swap: common misconceptions</a>
。 <a class="reference external" href="https://github.com/cdown/chrisdown.name/blob/master/LICENSE">原文的协议</a>
是 <a class="reference external" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>
，本文翻译同样也使用 <a class="reference external" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> 。其中加入了一些我自己的理解作为旁注，所有译注都在侧边栏中。</p>
<p>翻译这篇文章是因为经常看到朋友们（包括有经验的程序员和 Linux 管理员）对 swap 和 swappiness
有诸多误解，而这篇文章正好澄清了这些误解，也讲清楚了 Linux 中这两者的本质。值得一提的是本文讨论的
swap 针对 Linux 内核，在别的系统包括 macOS/WinNT 或者 Unix 系统中的交换文件可能有不同一样的行为，
需要不同的调优方式。比如在 <a class="reference external" href="https://www.freebsd.org/doc/handbook/bsdinstall-partitioning.html#configtuning-initial">FreeBSD …</a></p>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/file-size-histogram.html" class="btn btn-primary btn-lg"><h2>系统中的大多数文件有多大？
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/file-size-histogram.html">简体</a></li><li><a href="//farseerfc.me/zhs/../file-size-histogram.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2020-06-11T15:45:00+09:00"><i class="fa fa-calendar"></i> 2020年06月11日(周四)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary">
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id8"><strong>你觉得，你的系统中大多数文件大概有多大？</strong></a></h2>
<p>这是一个很有意思的问题，你可以试着先猜一下。</p>
<p>基于对系统中保存文件的了解，可能有这样的思考过程：</p>
<ul class="simple">
<li>我收藏了好多照片，每个有 2~5MiB 吧。</li>
<li>我下载了好多漫画，每个 100KiB 左右，这些大概占了不少比例。</li>
<li>我还收藏了不少动画电影电视剧，虽然这些文件总数量可能不多？</li>
<li>我下载了 Linux 的源码，那里面每个 C 代码文件都几千行，每行 100 字宽，平均也得有 30KiB
吧，有几万个源码文件呢，占比应该挺大的……</li>
</ul>
<p>问题中「大多数」其实是个挺不精确的称呼，换个精确点的问法：你觉得你的系统中 <strong>文件大小的中位数</strong>
大概在什么范围内？或者说，文件系统中 <strong>文件大小的分布情况</strong> 一般是怎样的曲线？</p>
<p>这个问题其实还有多种别的问法，比如：一个常见的桌面或者服务器系统中，多大的文件算大文件，
多小的文件算小文件，什么范围内的大小算是普通呢？</p>
<p>经历过基本的科学教育的人 …</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/flash-storage-ftl-layer.html" class="btn btn-primary btn-lg"><h2>SSD 就是大U盘？聊聊闪存类存储的转换层
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/flash-storage-ftl-layer.html">简体</a></li><li><a href="//farseerfc.me/zhs/../flash-storage-ftl-layer.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2020-03-18T15:45:00+09:00"><i class="fa fa-calendar"></i> 2020年03月18日(周三)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary">
<p>上篇 <a class="reference external" href="//farseerfc.me/zhs/history-of-chs-addressing.html">「柱面-磁头-扇区寻址的一些旧事」</a>
整理了一下我对磁盘类存储设备（包括软盘、硬盘，不包括光盘、磁带）的一些理解，
算是为以后讨论文件系统作铺垫；这篇整理一下我对闪存类存储设备的理解。</p>
<p>这里想要讨论的闪存类存储是指 SSD 、SD卡、U盘、手机内置闪存等基于 NAND
又有闪存转换层的存储设备（下文简称闪存盘），但不包括裸 NAND 设备、3D Xpoint （Intel
Optane）等相近物理结构但是没有类似的闪存转换层的存储设备。
闪存类存储设备这几年发展迅猛，SD卡和U盘早就替代软盘成为数据交换的主流， SSD 大有替代硬盘的趋势。
因为发展迅速，所以其底层技术变革很快，不同于磁盘类存储技术有很多公开资料可以获取，
闪存类存储的技术细节通常是厂商们的秘密，互联网上能找到很多外围资料，
但是关于其如何运作的细节却很少提到。所以我想先整理一篇笔记，记下我搜集到的资料，加上我自己的理解。
本文大部分信息来源是 <a class="reference external" href="https://lwn.net/Articles/428584/">Optimizing Linux with cheap flash drives</a>
和 <a class="reference external" href="https://accelazh.github.io/ssd/A-Summary-On-SSD-And-FTL">A Summary on …</a></p>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/history-of-chs-addressing.html" class="btn btn-primary btn-lg"><h2>柱面-磁头-扇区寻址的一些旧事
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/history-of-chs-addressing.html">简体</a></li><li><a href="//farseerfc.me/zhs/../history-of-chs-addressing.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2020-03-06T15:45:00+09:00"><i class="fa fa-calendar"></i> 2020年03月06日(周五)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary">
<p>在 SSD 这种新兴存储设备普及之前，很长一段时间硬盘是个人计算机的主要存储设备。
更往前的磁带机不常见于个人计算机，软盘的地位很快被硬盘取代，到 SSD 出现为止像
<a class="reference external" href="https://en.wikipedia.org/wiki/MiniDisc">MiniDisc</a> 、
<a class="reference external" href="https://en.wikipedia.org/wiki/DVD-RAM">DVD-RAM</a>
等存储设备也从未能挑战过硬盘的地位。硬盘作为主要存储设备，自然也影响了文件系统的设计。</p>
<p>这篇笔记稍微聊一聊硬盘这种存储设备的寻址方式对早期文件系统设计的一些影响，特别是
柱面-磁头-扇区寻址（Cylinder-head-sector addressing, 简称CHS寻址）的起源和发展。
大部分内容来自维基百科 <a class="reference external" href="https://en.wikipedia.org/wiki/Cylinder-head-sector">Cylinder-head-sector 词条</a>
这里只是记录笔记。现今的硬盘已经不再采用 CHS 寻址，其影响却还能在一些文件系统设计中看到影子。</p>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id7">柱面、磁头、扇区以及相关术语</a></h2>
<div class="panel panel-default">
<div class="panel-heading">
磁盘示意图（来自维基百科 <a class="reference external" href="https://en.wikipedia.org/wiki/Cylinder-head-sector">Cylinder-head-sector 词条</a> ）</div>
<div class="panel-body">
<object class="embed-responsive-item" data="//farseerfc.me/zhs/images/chs-illustrate-trans.svg" type="image/svg+xml">
chs-illustrate-trans.svg</object>
</div>
</div>
<p>如右图所示，一块硬盘(Hard Disk Drive, HDD)是一个圆柱体转轴上套着一些磁碟片(platter)，
然后有一条磁头臂(actuator arm)插入磁碟片间的位置 …</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/btrfs-vs-zfs-difference-in-implementing-snapshots.html" class="btn btn-primary btn-lg"><h2>Btrfs vs ZFS 实现 snapshot 的差异
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/btrfs-vs-zfs-difference-in-implementing-snapshots.html">简体</a></li><li><a href="//farseerfc.me/zhs/../btrfs-vs-zfs-difference-in-implementing-snapshots.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2020-02-19T15:45:00+09:00"><i class="fa fa-calendar"></i> 2020年02月19日(周三)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary">
<!-- -->
<blockquote>
<div class="line-block">
<div class="line">zfs 这个东西倒是名不符实。叫 z storage stack 明显更符合。 叫 fs 但不做 fs 自然确实会和 btrfs 有很大出入。</div>
<div class="line">我反而以前还好奇为什么 btrfs 不弄 zvol ， 直到我意识到这东西真是一个 fs ，名符奇实。</div>
<div class="line">—— 某不愿透露姓名的 Ext2FSD 开发者</div>
</div>
</blockquote>
<p>Btrfs 和 ZFS 都是开源的写时拷贝（Copy on Write, CoW）文件系统，都提供了相似的子卷管理和
快照(snapshot）的功能。网上有不少文章都评价 ZFS 实现 CoW FS 的创新之处，进而想说「 Btrfs
只是 Linux/GPL 阵营对 ZFS …</p>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/zfs-layered-architecture-design.html" class="btn btn-primary btn-lg"><h2>ZFS 分层架构设计
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/zfs-layered-architecture-design.html">简体</a></li><li><a href="//farseerfc.me/zhs/../zfs-layered-architecture-design.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2020-02-04T16:59:00+09:00"><i class="fa fa-calendar"></i> 2020年02月04日(周二)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary">
<div class="label label-warning">
<strong>2020年2月9日更新过</strong></div>
<p>ZFS 在设计之初源自于 Sun 内部多次重写 UFS 的尝试，背负了重构 Solaris
诸多内核子系统的重任，从而不同于 Linux 的文件系统只负责文件系统的功能而把其余功能（比如内存脏页管理，
IO调度）交给内核更底层的子系统， ZFS 的整体设计更层次化并更独立，很多部分可能和 Linux/FreeBSD
内核已有的子系统有功能重叠。</p>
<p>似乎很多关于 ZFS 的视频演讲和幻灯片有讲到子系统架构，但是找了半天也没找到网上关于这个的说明文档。
于是写下这篇笔记试图从 ZFS 的早期开发历程开始，记录一下 ZFS 分层架构中各个子系统之间的分工。
也有几段 OpenZFS Summit 视频佐以记录那段历史。</p>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id4">早期架构</a></h2>
<p>早期 ZFS 在开发时大体可以分为上下三层，分别是 ZPL， DMU 和 SPA ，这三层分别由三组人负责。</p>
<p>最初在 Sun 内部带领 ZFS …</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/question-exchange-horo.html" class="btn btn-primary btn-lg"><h2>和萌狼交换问题
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/question-exchange-horo.html">简体</a></li><li><a href="//farseerfc.me/zhs/../question-exchange-horo.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2020-01-05T17:51:00+09:00"><i class="fa fa-calendar"></i> 2020年01月05日(周日)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary"><p>很抱歉萌狼很早就提过交换问题的事，被我一直咕咕了许久。 <del>拖延症晚期有药么</del></p>
<div class="section" id="id2">
<h2>我的提问和萌狼的回答</h2>
<p><a class="reference external" href="https://blog.yoitsu.moe/life/question_exchange_farseerfc.html">可以去萌狼的博客上看呀</a></p>
</div>
<div class="section" id="q1">
<h2>Q1：除了博客的「关于」页面以外，还愿意再向咱介绍一下自己嘛？</h2>
<p>介绍自己啊。 <del>写了删删了写，不知道该介绍点啥</del> 就说点自己的兴趣？</p>
<p>喜欢自由开源软件，喜欢 Arch Linux 。喜欢这些倒不是出于 RMS 和 FSF 那样道义上的原因，
我觉得商业软件公司要赚钱吃饭也是无可厚非的。</p>
<p>喜欢自由软件是因为，当我需要知道它到底怎么工作的时候，有可能去挖代码，必要的话能去改代码。
当然我一个人肯定不能读所有在用的软件，但是我知道我有读和修改代码的权利的话，
那么我认识的朋友们也同样有这样的权利，我不认识的广大社区有千千万万的人也同样有这样的权利，
从而我相信当我遇到问题的时候不至于卡在某些人某些公司某些集体的决策上而无法解决。</p>
<p>基于这个理由，我对开源社区也同样有公开全部细节的期待。我喜欢 Arch Linux
因为即便它的内部决策只是一小波人，但是导致决策的讨论以及决策的执行方式全是公开的，可以在网上翻阅，
可以追根溯源，这让我有种安心感。就像我不喜欢 Manjaro 的一点是它有太多细节是翻阅不到的，
虽然它也是开源社区，但是打包细节翻阅不到，包列表翻阅不到，决策的制定和执行的过程也翻阅不到 …</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/move-lyrics-to-sakuy.html" class="btn btn-primary btn-lg"><h2>东方歌词翻译迁移至 sak.uy
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/move-lyrics-to-sakuy.html">简体</a></li><li><a href="//farseerfc.me/zhs/../move-lyrics-to-sakuy.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2019-02-24T08:37:00+09:00"><i class="fa fa-calendar"></i> 2019年02月24日(周日)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary"><p>最近几个月在这个博客发了不少歌词翻译 <del>似乎有要转型成音乐博主的趋势</del> ，前段时间买了个新域名
<a class="reference external" href="https://sak.uy/">sak.uy</a> ，准备专门用来放这些东方歌曲的歌词翻译，于是分设了单独的博客「
<a class="reference external" href="https://sak.uy/">Sakuya的音乐盒</a> 」。主博客这边右侧边栏会有到音乐盒的链接。</p>
<p>曾经在这边的那些歌尽量保持 URL 跳转过去，新的歌词翻译会发到那边去，还想继续听歌的话请继续订阅那边的 RSS 呀。</p>
<p>主博客这边还是像往常一样保持记录生活点滴和技术经验好了。说道介绍技术，
有人问过我那些日语歌词上给汉字标注的假名都是我一个个手输的么？
一开始是手输的，后来发现了不错的自动化方案，于是这里介绍一下。</p>
<div class="section" id="python-furigana">
<h2>首先是　python-furigana</h2>
<p>这是个 python 写的小程序（严格说是库），可以把一段日文转换成标准的 HTML 形式的
<code class="code">
&lt;ruby&gt;</code>
 标签的振假名( <ruby><rb>振</rb><rp>(</rp><rt>ふ</rt><rp>)</rp></ruby> り <ruby><rb>仮名</rb><rp>(</rp><rt>かな</rt><rp>)</rp></ruby> )。
它本身只是个方便的格式化库，实际工作是用 python-mecab 这个 binding 去查询 mecab
这个著名的日语语料分析库。要用它还得配合一些开源的 mecab 词典，这些在 …</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/usbip-forward-raspberrypi.html" class="btn btn-primary btn-lg"><h2>用 usbip 转发 raspberry pi 的 USB 键盘鼠标给 Arch Linux 的 PC
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/usbip-forward-raspberrypi.html">简体</a></li><li><a href="//farseerfc.me/zhs/../usbip-forward-raspberrypi.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2019-02-07T02:14:00+09:00"><i class="fa fa-calendar"></i> 2019年02月07日(周四)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary"><p>惠狐 <a class="reference external" href="/links.html#megumifox">megumifox</a> 写了篇 <a class="reference external" href="https://blog.megumifox.com/public/2019/02/06/%E7%94%A8pulseaudio%E5%B0%86%E7%94%B5%E8%84%91%E7%9A%84%E5%A3%B0%E9%9F%B3%E7%94%A8%E6%89%8B%E6%9C%BA%E6%94%BE%E5%87%BA%E6%9D%A5/">用PulseAudio将电脑的声音用手机放出来</a>
，文末提到想知道我怎么用树莓派转发 USB 的，于是写篇文章记录一下。</p>
<div class="section" id="id1">
<h2>起因</h2>
<p>家里有个装了 Arch Linux ARM 的树莓派3B 闲置着，装了 Arch Linux ARM 偶尔上电更新一下，
不过因为性能实在不适合做别的事情于是一直在吃灰。某日 <del>给老婆安利幻想万华镜</del><ins>和老婆看片</ins>
的时候， <del>老婆不吃安利于是迁怒键盘鼠标</del><ins>键盘鼠标被长长的 USB 线扯着感觉很难受</ins>
，于是偶发奇想，能不能利用一下树莓派的多达 4 个 USB 2.0 端口接鼠标键盘呢，
这样鼠标键盘就可以跟着树莓派来回走，不用拖着长长的 USB 线了。</p>
<p>上网搜了一下， Linux 环境有个 usbip 工具正好能做到这个。原理也很直观， usbip 能把 USB …</p></div>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/kimisaeinakerya.html" class="btn btn-primary btn-lg"><h2>【听译】君さえいなけりゃよかった
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/kimisaeinakerya.html">简体</a></li><li><a href="//farseerfc.me/zhs/../kimisaeinakerya.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2018-12-23T23:04:00+09:00"><i class="fa fa-calendar"></i> 2018年12月23日(周日)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary"><div align="left" class="youtube embed-responsive embed-responsive-16by9"><iframe allow="fullscreen" class="embed-responsive-item" frameborder="0" src="https://www.youtube.com/embed/-KOeQapXsx8"></iframe></div><table border="0" class="docutils translate-paragraph borderless table">
<colgroup>
<col width="50%"/>
<col width="50%"/>
</colgroup>
<tbody valign="top">
<tr></tr>
<tr><td>君さえいなけりゃよかった</td>
<td>如果你从未出现过该多好</td>
</tr>
<tr><td>降り出した雨の中で　君に出会った时から</td>
<td>下起雨的那一刻　从遇到你那时起</td>
</tr>
<tr><td>君がいないということが　当たり前じゃなくなった</td>
<td>身边没有你的情况　就已经不再是平常</td>
</tr>
<tr><td>ああ　こんなはずじゃない</td>
<td>啊　不应该是这样的</td>
</tr>
<tr><td>ずっと自分胜手にさ　过ごせたはずなのに</td>
<td>明明一直是散漫地过着自己的日子</td>
</tr>
<tr><td>まるで仆じゃないような仆が　さらけ出されてくよ</td>
<td>就像是带出了不是我的另一面的我</td>
</tr>
</tbody>
</table>
<hr class="docutils"/>
<table border="0" class="docutils translate-paragraph borderless table">
<colgroup>
<col width="50%"/>
<col width="50%"/>
</colgroup>
<tbody valign="top">
<tr></tr>
<tr><td>君さえいなけりゃよかった　こんな気持ちは知らないから</td>
<td>如果你从未出现过该多好　就不会知道这种心情</td>
</tr>
<tr><td>やらなくちゃいけないことが　手つかずのまま积もってく</td>
<td>一堆不得不做的事情　堆在手头越积越多</td>
</tr>
<tr><td>仆じゃなくてもいいのなら　こっちを见て笑わないでよ</td>
<td>如果不是我也可以的话　就别看着我这边笑啊</td>
</tr>
<tr><td>大袈裟じゃなくてそれだけで　忘れられなくなるの</td>
<td>甚至那些不重要的事情　都变得难以忘记了</td>
</tr>
</tbody>
</table>
<hr class="docutils"/>
<table border="0" class="docutils translate-paragraph borderless table">
<colgroup>
<col width="50%"/>
<col width="50%"/>
</colgroup>
<tbody valign="top">
<tr></tr>
<tr><td>君の适当な话も　全部心に刺さります</td>
<td>你无意间随口说的话　全都刺在心头</td>
</tr>
<tr><td>気にしなけりゃいいのにな　残らずかき集めちゃうの</td>
<td>虽说只要不在意就可以了　却一句不剩全收集了起来</td>
</tr>
<tr><td>ああ　こんなはずじゃない　こんなはずじゃない</td>
<td>啊　不应该是这样的　不应该是这样的 …</td></tr></tbody></table>
                    </div>
                </div>
            </article>
        </div>
        <div class="article-item">
            <article class="panel panel-primary">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-xl-20 col-lg-20 col-md-20 col-sm-19 col-xs-19">
                            <a href="//farseerfc.me/zhs/using-gnu-stow-to-manage-your-dotfiles.html" class="btn btn-primary btn-lg"><h2>【译】使用 GNU stow 管理你的点文件
                            </h2></a>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-5 col-xs-5">
                            <div class="btn-group translations">
<a href="javascript:void(0)" class="btn btn-primary dropdown-toggle" data-toggle="dropdown"><i class="mdi-action-translate"></i><span class="caret"></a>
<ul class="dropdown-menu">
<li class="active"><a href="//farseerfc.me/zhs/using-gnu-stow-to-manage-your-dotfiles.html">简体</a></li><li><a href="//farseerfc.me/zhs/../using-gnu-stow-to-manage-your-dotfiles.html" class="translate">繁體</a></li></ul>
</div>

                            <span class="published">
                                <time datetime="2018-12-08T03:35:00+09:00"><i class="fa fa-calendar"></i> 2018年12月08日(周六)</time>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="summary"><div class="section" id="id1">
<h2>译注</h2>
<!-- PELICAN_BEGIN_SUMMARY -->
<p>这篇是翻译自 <a class="reference external" href="http://brandon.invergo.net/news/2012-05-26-using-gnu-stow-to-manage-your-dotfiles.html">Brandon Invergo 的博客的英文文章 Using GNU Stow to manage your dotfiles</a> 。
Brandon Invergo 的博客采用 <a class="reference external" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">CC-BY-SA 3.0</a>
授权，因此本文也同样采用 <a class="reference external" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US">CC-BY-SA 3.0</a>
，不同于其它我写的文章是 <a class="reference external" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY-NC-SA 4.0</a>
授权。</p>
<p>我自己已经使用此文中介绍的方案管理 <a class="reference external" href="https://git.io/fcdots">我自己的 dotfiles</a>
快 3 年了。最早想采用这样的管理方案是为了方便在多台 Arch Linux 系统之间同步配置，
后来逐渐主力系统也更新换代了一次，又同步到了自己的 vps 上去，目前管理多个 Arch Linux
上都多少都有这套配置。甚至装好 Arch Linux 添加好用户最初做的事情就是安装 …</p></div>
                    </div>
                </div>
            </article>
        </div>
    </div>

        <ul class="pagination">
                <li class="prev disabled"><a href="#">&laquo;</a></li>
                    <li class="active"><a
                            href="//farseerfc.me/zhs/index.html">1</a></li>
                    <li class=""><a
                            href="//farseerfc.me/zhs/index2.html">2</a></li>
                    <li class=""><a
                            href="//farseerfc.me/zhs/index3.html">3</a></li>
                    <li class=""><a
                            href="//farseerfc.me/zhs/index4.html">4</a></li>
                    <li class=""><a
                            href="//farseerfc.me/zhs/index5.html">5</a></li>
                <li class="next"><a
                        href="//farseerfc.me/zhs/index2.html">&raquo;</a></li>
        </ul>
            </div>
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <a data-dismiss="modal" href="javascript:void(0);">
            <img id="mimg" src="" style="width:100%;height:auto">
          </a>
        </div>
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6" id="sidebar">
            <aside>

<section>
    <div class="sidebar-container">
<div class="sidebar-item ">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-user fa-lg"></i>
<a href="//farseerfc.me/zhs/pages/about.html">
关于 farseerfc</a>
        </h4>
    </div>
<div class="panel-body" id="aboutme">
        <a href="//farseerfc.me/zhs/pages/about.html"><img width="100%" src="//farseerfc.me/zhs/../images/avatar.jpg"/></a>
    <h3 style="text-align:center">
<a href="https://sak.uy/"                  target="_blank">
<i class="fa fa-music" style="text-align:center"></i></a>
<a href="https://twitter.com/farseerfc"                  target="_blank">
<i class="fa fa-twitter" style="text-align:center"></i></a>
<a href="https://github.com/farseerfc"                   target="_blank">
<i class="fa fa-github" style="text-align:center"></i></a>
<a href="http://www.facebook.com/farseerfc"              target="_blank">
<i class="fa fa-facebook" style="text-align:center"></i></a>
<a href="https://plus.google.com/u/0/+JiachenYang/posts" target="_blank">
<i class="fa fa-google-plus" style="text-align:center"></i></a>
<a href="mailto:farseerfc@gmail.com" target="_blank">
<i class="mdi-communication-email" style="text-align:center"></i></a>
</h3>

</div>
</div>
</div>





<div class="sidebar-item hidden-xs">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<a href="//farseerfc.me/zhs/tags.html"><i class="fa fa-tags fa-lg"></i><span class="icon-label">标签云</span></a>
        </h4>
    </div>
<div class="panel-body">
    <ul class="list-group list-inline tagcloud" id="tags">
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/swap.html">
                    swap <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/mm.html">
                    mm <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/memory-management.html">
                    memory management <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/swappiness.html">
                    swappiness <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/kswapd.html">
                    kswapd <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/watermark.html">
                    watermark <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/watermark_scale_factor.html">
                    watermark_scale_factor <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/cgroup-v2.html">
                    cgroup v2 <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/translate.html">
                    translate <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-2">
                <a href="//farseerfc.me/zhs/tag/fsbi-ji.html">
                    FS笔记 <sup> 5</sup>
                </a>
            </li>
            <li class="list-group-item tag-2">
                <a href="//farseerfc.me/zhs/tag/fs-notes.html">
                    FS notes <sup> 5</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/file.html">
                    file <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/size.html">
                    size <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/histogram.html">
                    histogram <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/ftl.html">
                    FTL <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/ssd.html">
                    SSD <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/usb-stick.html">
                    USB stick <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/emmc.html">
                    eMMC <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/mmc.html">
                    MMC <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/sd-card.html">
                    SD Card <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/chs.html">
                    CHS <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/cylinder.html">
                    cylinder <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/head.html">
                    head <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/sector.html">
                    sector <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/lba.html">
                    LBA <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/smr.html">
                    SMR <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/4kn.html">
                    4Kn <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/btrfs.html">
                    btrfs <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/zfs.html">
                    zfs <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/cow.html">
                    cow <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/snapshot.html">
                    snapshot <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/clone.html">
                    clone <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/subvolume.html">
                    subvolume <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/dedup.html">
                    dedup <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/reflink.html">
                    reflink <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/spa.html">
                    SPA <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/dmu.html">
                    DMU <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/dsl.html">
                    DSL <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/zpl.html">
                    ZPL <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/layered.html">
                    layered <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/architecture.html">
                    architecture <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/zio.html">
                    ZIO <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/vdev.html">
                    VDEV <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/arc.html">
                    ARC <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/zap.html">
                    ZAP <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/zil.html">
                    ZIL <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/zvol.html">
                    ZVOL <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/friend.html">
                    friend <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/horo.html">
                    horo <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/life.html">
                    life <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-1">
                <a href="//farseerfc.me/zhs/tag/linux.html">
                    linux <sup> 9</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/archlinux.html">
                    archlinux <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/raspberrypi.html">
                    raspberrypi <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/usbip.html">
                    usbip <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/usb.html">
                    usb <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/forward.html">
                    forward <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/chouyaku.html">
                    chouyaku <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/kimi.html">
                    kimi <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/sae.html">
                    sae <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/inakerya.html">
                    inakerya <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/ting-yi.html">
                    听译 <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/dotfiles.html">
                    dotfiles <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/stow.html">
                    stow <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/zhihu.html">
                    zhihu <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/gplv3.html">
                    GPLv3 <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/licenses.html">
                    licenses <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/linus-torvalds.html">
                    Linus Torvalds <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/gpl.html">
                    GPL <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/fsf.html">
                    FSF <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/eff.html">
                    EFF <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-1">
                <a href="//farseerfc.me/zhs/tag/c.html">
                    C <sup> 15</sup>
                </a>
            </li>
            <li class="list-group-item tag-2">
                <a href="//farseerfc.me/zhs/tag/pelican.html">
                    pelican <sup> 5</sup>
                </a>
            </li>
            <li class="list-group-item tag-2">
                <a href="//farseerfc.me/zhs/tag/github.html">
                    github <sup> 3</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/pages.html">
                    pages <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/issues.html">
                    issues <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-2">
                <a href="//farseerfc.me/zhs/tag/python.html">
                    python <sup> 5</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/pacvis.html">
                    pacvis <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/pacman.html">
                    pacman <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/arch.html">
                    arch <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/pacgraph.html">
                    pacgraph <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/wayland.html">
                    wayland <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/xorg.html">
                    xorg <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/compositor.html">
                    compositor <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/desktop.html">
                    desktop <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/macosx.html">
                    macosx <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/windows.html">
                    windows <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/window.html">
                    window <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/manager.html">
                    manager <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/blog.html">
                    blog <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/writing.html">
                    writing <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/travis.html">
                    travis <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/travis-ci.html">
                    travis-ci <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/ubuntu.html">
                    ubuntu <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/japan.html">
                    japan <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-4">
                <a href="//farseerfc.me/zhs/tag/academic.html">
                    academic <sup> 1</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/material.html">
                    material <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/icse.html">
                    icse <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/software.html">
                    software <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/microsoft.html">
                    microsoft <sup> 2</sup>
                </a>
            </li>
            <li class="list-group-item tag-3">
                <a href="//farseerfc.me/zhs/tag/java.html">
                    java <sup> 2</sup>
                </a>
            </li>
    </ul>
</div>
</div>
</div>

<div class="sidebar-item hidden-xs">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub仓库</span>
        </h4>
    </div>
    <div class="panel-body">
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
            <a href="https://github.com/farseerfc">@farseerfc</a> on GitHub<br>
    </div>
</div>
</div>
<div class="sidebar-item hidden-xs">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<a href="https://sak.uy/">
<i class="fa fa-home fa-lg"></i><span class="icon-label">Sakuya的音樂盒</span>
</a>
        </h4>
    </div>
    <div class="panel-body">
        <div id="other_blog_posts">
            <p class="list-group-item">Status updating...</p>
        </div>
    </div>
</div>
</div>
<div class="sidebar-item hidden-xs">
<div class="panel panel-default">
	<div class="panel-heading">
        <h4>
<a href="https://t.me/s/fcnotes">
<i class="fa fa-home fa-lg"></i><span class="icon-label">fc fs筆記</span>
</a>
        </h4>
    </div>
    <div class="panel-body" style="padding: 0px">
        <div id="tg_channel_iframe">
            <iframe frameborder="0" style="width:100%;height:500px" src="https://rants.nichi.workers.dev/fcnotes"></iframe>
        </div>
    </div>
</div>
</div>

    </div>
</section>
            </aside>
        </div>
    </div>
</div>


<footer id="fcfooter">
   <hr/>
   <div class="container">
      <div class="row">
         <div class="col-md-24">
         <p><small>
            &copy; 2020 farseerfc
            &middot; 通过            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a> 生成                <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
    <!-- Content -->
  <!-- licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution 4.0 International License</a>, except where indicated otherwise. -->

         </small></p>
         </div>
      </div>
   </div>
   <a href="#" class="btn btn-primary btn-fab btn-raised mdi-editor-vertical-align-top withripple" style="position:fixed;bottom:30px;right:30px;z-index:1000"></a>
</footer>
<script src="//farseerfc.me/zhs/../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//farseerfc.me/zhs/../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="//farseerfc.me/zhs/../theme/js/respond.min.js"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '//farseerfc.me/zhs/../theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'farseerfc',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="//farseerfc.me/zhs/../theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->
<!-- Other Blog JS -->
<script type="text/javascript">
    $(document).ready(function () {
        if (!window.jXHR) {
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '//farseerfc.me/zhs/../theme/js/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }
        other_blog.showRepos({
            url: 'https://sak.uy/',
            target: '#other_blog_posts'
        });
    });
</script>
<script src="//farseerfc.me/zhs/../theme/js/other_blog.js" type="text/javascript"></script>
<!-- End Other Blog JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'farseerfcgithub'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-29540705-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

<script src="//farseerfc.me/zhs/../theme/js/ripples.min.js"></script>
<script src="//farseerfc.me/zhs/../theme/js/material.min.js"></script>
<script src="//farseerfc.me/zhs/../theme/js/jquery.bootstrap-autohidingnavbar.min.js"></script>
<script>
    $(document).ready(function() {
        $.material.init();
        $("div.navbar").autoHidingNavbar();
        $(".img-responsive").css("cursor","pointer").on('click',function(){
            var sr=$(this).attr('src');
            $('#mimg').attr('src',sr);
            $('#myModal').modal('show');
        });
        $('#affix-toc').affix({
          offset: {
            top: function(){
                if($('#affix-toc').hasClass("affix"))
                    return $('#sidebar').height();
                return $('#sidebar').height() - $('#affix-toc').height();
            },
            bottom: function (){
                return $("#fcfooter").offset().top -
                    $("#article-content").offset().top -
                    $("#article-content").height() + 20;
            }
          }
        });
        $('#affix-toc').width($('#sidebar').width());
    });
    $(window).resize(function () {
       $('#affix-toc').width($('#sidebar').width());
    });
</script>

</body>
</html>